{
  "TeamMentor_Article": {
    "$": {
      "Metadata_Hash": "0",
      "Content_Hash": "0"
    },
    "Metadata": [
      {
        "Id": [
          "52624de3-7c13-4456-974b-23c4588eef0d"
        ],
        "Id_History": [
          "52624de3-7c13-4456-974b-23c4588eef0d,245b4e16-02a3-4420-8987-35daed6fa691,"
        ],
        "Library_Id": [
          "d9c2b53f-5b05-4152-be72-e79d72854707"
        ],
        "Title": [
          "Encrypt Communication Links"
        ],
        "Category": [
          "Communication Security"
        ],
        "Phase": [
          "Implementation"
        ],
        "Technology": [
          "Scala Play"
        ],
        "Type": [
          "Guideline"
        ],
        "DirectLink": [
          "Encrypt Communication Links"
        ],
        "Author": [
          ""
        ],
        "Priority": [
          ""
        ],
        "Status": [
          ""
        ]
      }
    ],
    "Content": [
      {
        "$": {
          "Sanitized": "false",
          "DataType": "html"
        },
        "Data": [
          "<h1>Applies to</h1>\r\n  <p>Scala and Play Framework 2.1.0+</p>\r\n  <h1>What to Do</h1>\r\n  <p>Encrypt the communication channels when interacting with other software across the network.</p>\r\n  <h1>Why</h1>\r\n  <p>Encrypting the communication links allows the application to preserve the confidentiality and integrity of the transmitted data.</p>\r\n  <h1>When</h1>\r\n  <p>If sensitive data must be transmitted between two hosts, either&nbsp;between servers or between application and server, then encrypt the communication links.</p>\r\n  <h1>How</h1>\r\n  <p>To encrypt the communication links:</p>\r\n  <ol>\r\n    <li>\r\n      <p>\r\n        <strong>Identify the connections used for transmitting sensitive data.&nbsp;</strong>Enumerate all connections between the different servers with other servers or with the application. Identify the sensitive data that is sent over the network and the respective connections that are used for such communication.</p>\r\n    </li>\r\n    <li>\r\n      <p>\r\n        <strong>Choose the appropriate encryption mechanism.&nbsp;</strong>Depending on the infrastructure, you may consider using IPSec or TLS/SSL.</p>\r\n      <ul>\r\n        <li>\r\n          <strong>IPSec.</strong> IPSec is used when the encryption needs to be applied across all involved parties. Since IPSec is designed to secure connections between static hosts that are \"always on,\" use IPSec to secure the network connections between your application's servers. Due to its nature, IPSec requires low level support. Therefore, your application would need support from the operating system or a JNI component to manage it.</li>\r\n        <li>\r\n          <strong>TLS/SSL.</strong> TLS/SSL provides granular protection which&nbsp;allows only&nbsp;the traffic containing sensitive data to be encrypted. Because TLS/SSL has a certificate-based design, it allows the protection of data between mobile hosts. Use TLS/SSL to secure the communication channel between your application and its users.<br /><br />While Scala provides APIs for handling SSL encrypted traffic, it is recommended to follow the manuals associated with the&nbsp;third party software that&nbsp;is being used. For example, if your application connects to a database server, follow the database server's manual on setting up the encryption; if your application is web-oriented, follow the web server's documentation on setting up the SSL certificate. If your application uses SSL, ensure that you use SSL 3.0 and disable the cryptographically weak SSL 2.0 protocols.</li>\r\n      </ul>\r\n    </li>\r\n    <li>\r\n      <p>\r\n        <strong>Apply the appropriate encryption mechanism.&nbsp;</strong>Apply the encryption mechanism of choice at the appropriate locations in the code. Such locations include all functionality that establishes a connection between your application and another entity.</p>\r\n    </li>\r\n  </ol>\r\n  <h1>Problem Example</h1>\r\n  <p>The following example shows the Nginx configuration(/etc/nginx/nginx.conf) as a front-end web server for a Scala with Play Framework application. Unfortunately, the communication is not encrypted, and it is possible for an attacker to eavesdrop on the connection.</p>\r\n  <pre>http {<br /><br />  proxy_buffering    off;<br />  proxy_set_header   X-Real-IP $remote_addr;<br />  proxy_set_header   X-Scheme $scheme;<br />  proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;<br />  proxy_set_header   Host $http_host;<br /><br />  upstream my-backend {<br />    server 127.0.0.1:9000;<br />  }<br /><br />  server {<br />    server_name www.mysite.com mysite.com;<br />    rewrite ^(.*) http://www.mysite.com$1 permanent;<br />  }<br /><br />  server {<br />    listen               80;<br />    server_name www.mysite.com;<br />    location / {<br />      proxy_pass  http://my-backend;<br />    }<br />  }<br />}</pre>\r\n  <h1>Solution Example</h1>\r\n  <p>The following example shows the Nginx configuration(/etc/nginx/nginx.conf) as a front-end web server for a Scala with Play Framework application.&nbsp;Because the communication is encrypted, the confidentiality of the data in transit is preserved, and it is impossible for an attacker to eavesdrop on the connection.</p>\r\n  <pre>http {<br /><br />  proxy_buffering    off;<br />  proxy_set_header   X-Real-IP $remote_addr;<br />  proxy_set_header   X-Scheme $scheme;<br />  proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;<br />  proxy_set_header   Host $http_host;<br /><br />  upstream my-backend {<br />    server 127.0.0.1:9000;<br />  }<br /><br />  server {<br />    server_name www.mysite.com mysite.com;<br />    rewrite ^(.*) https://www.mysite.com$1 permanent;<br />  }<br /><br />  server {<br />    listen               443;<br />    ssl                  on;<br />    ssl_certificate      /etc/ssl/certs/my_ssl.crt;<br />    ssl_certificate_key  /etc/ssl/private/my_ssl.key;<br />    ssl_protocols       SSLv3 TLSv1 TLSv1.1 TLSv1.2;<br />    ssl_ciphers         HIGH:!aNULL:!MD5;<br />    keepalive_timeout    70;<br />    server_name www.mysite.com;<br />    location / {<br />      proxy_pass  http://my-backend;<br />    }<br />  }<br />}</pre>\r\n  <h1>Additional Resources</h1>\r\n  <ul>\r\n    <li>For more information about TLS, see: RFC for&nbsp;<a href=\"http://www.faqs.org/rfcs/rfc2246.html\">Transport Layer Security</a>.</li>\r\n    <li>For a quick overview on IPSec, see: A publication on&nbsp;<a href=\"http://www.digisafe.com/products/pdf/IPSec_Primer.pdf\">IPSec Primer</a>.For more information about safely configuring SSL, see:<a href=\"https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet\">https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet</a>.</li>\r\n    <li>Setting front-end HTTP server for Scala with Play framework applications:&nbsp;<a href=\"http://www.playframework.com/documentation/2.1.1/HTTPServer\">http://www.playframework.com/documentation/2.1.1/HTTPServer</a>.</li>\r\n  </ul>\r\n  <div>\r\n    <h1 style=\"margin: 0px; padding: 10px 0px 0px; font-size: 17px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: rgb(255, 255, 255);\">Communication Security Guidelines</h1>\r\n    <ul style=\"margin: 10px 0px 10px 25px; padding: 0px 0px 0px 30px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: small; background-color: rgb(255, 255, 255);\">\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"52624de3-7c13-4456-974b-23c4588eef0d\">Encrypt Communication Links</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"10886993-6dcd-4905-b577-2032edd530c5\">Use SSL</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"8a5cb8a0-d7f9-4372-bae6-2d680bb498ad\">Use SSL for All Sensitive Pages</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"5de9c87b-5678-4810-8636-65b720e023bf\">Use SSL When Transmitting Credentials</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"189c97b5-78ac-4b3b-812d-587ea2a895e4\">Use Valid SSL Certificates</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"0e774522-7d2e-4a14-b3cf-850d127c3895\">Use Only Strong SSL Algorithms</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"f9d523ec-7328-4be5-93c6-00e671ecd068\">Do Not Cache Sensitive Data</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"7718e002-fad0-4114-b51f-f46397cd3921\">Do Not Place Sensitive Data in Parameters</a>\r\n        </b>\r\n      </li>\r\n    </ul>\r\n    <h1 style=\"margin: 0px; padding: 10px 0px 0px; font-size: 17px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: rgb(255, 255, 255);\">Communication Security Checklists</h1>\r\n    <ul style=\"margin: 10px 0px 10px 25px; padding: 0px 0px 0px 30px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: small; background-color: rgb(255, 255, 255);\">\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"d9212a71-9f66-4d55-91ad-40af4792f414\">Communication Links are Encrypted</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"0c11e362-82d1-4132-ba66-8431eb02da94\">SSL Is Used</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"60459daa-5678-45f7-834f-72ef487aaf2b\">SSL Is Used for All Sensitive Pages</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"24771ceb-219a-41c5-8877-c040969a6933\">SSL is Used When Transmitting Credentials</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"ec353b5b-901b-404b-811e-922561c1e632\">Valid SSL Certificates Are Used</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"d4cad587-c5d7-4ccf-ad50-4e178154a70b\">Only Strong SSL Algorithms Are Used</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"06c0bd2f-6d23-45ce-9c08-5145215ca9d8\">Sensitive Data Is Not Cached</a>\r\n        </b>\r\n      </li>\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"3b87b42e-a1cd-4b62-85e9-c26337b04bdf\">Sensitive Data Is Not Placed in Parameters</a>\r\n        </b>\r\n      </li>\r\n    </ul>\r\n    <h1 style=\"margin: 0px; padding: 10px 0px 0px; font-size: 17px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: rgb(255, 255, 255);\">Communication Security Testing</h1>\r\n    <ul style=\"margin: 10px 0px 10px 25px; padding: 0px 0px 0px 30px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: small; background-color: rgb(255, 255, 255);\">\r\n      <li style=\"margin: 0px; padding: 0px;\">\r\n        <b>\r\n          <a href=\"b928e4bf-8dc9-4e64-bbec-ad642f375ab4\">How to Test for Network Credential Sniffing Bugs in Scala</a>\r\n        </b>\r\n      </li>\r\n    </ul>\r\n  </div>"
        ]
      }
    ]
  }
}