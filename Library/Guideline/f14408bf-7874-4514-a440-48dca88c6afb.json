{
  "TeamMentor_Article": {
    "$": {
      "Metadata_Hash": "-82811200",
      "Content_Hash": "-580620276"
    },
    "Metadata": [
      {
        "Id": [
          "f14408bf-7874-4514-a440-48dca88c6afb"
        ],
        "Id_History": [
          "f14408bf-7874-4514-a440-48dca88c6afb,64ad1da0-8cb1-4116-9a14-361876441c1b,"
        ],
        "Library_Id": [
          "51eb81c3-1d23-4146-ba83-8a6bb9233c11"
        ],
        "Title": [
          "Use Regular Expressions to Validate Input"
        ],
        "Category": [
          "Input and Data Validation"
        ],
        "Phase": [
          "Implementation"
        ],
        "Technology": [
          "C++"
        ],
        "Type": [
          "Guideline"
        ],
        "DirectLink": [
          "Use Regular Expressions to Validate Input"
        ],
        "Tag": [
          ""
        ],
        "Security_Demand": [
          ""
        ],
        "Author": [
          ""
        ],
        "Priority": [
          ""
        ],
        "Status": [
          ""
        ],
        "Source": [
          "C++"
        ]
      }
    ],
    "Content": [
      {
        "$": {
          "Sanitized": "true",
          "DataType": "Html"
        },
        "Data": [
          "<h1>Applies to</h1>\n  <ul>\n    <li>C&#43;&#43;</li>\n  </ul>\n  <h1>What to Do</h1>\n  <p>Use regular expressions to validate input.</p>\n  <h1>Why</h1>\n  <p>A good input validation strategy is to constrain input to known valid values, reject known bad values and to sanitize the input that passes validation. Rejecting bad values is not to be relied on, because there are too many possible bad values. However, it is possible to filter out at least some bad input. Constraining input can be done effectively using regular expressions.</p>\n  <h1>When</h1>\n  <p>Constrain input as the first step of input validation.</p>\n  <h1>How</h1>\n  <p>Perform the following actions to constrain input using regular expressions:</p>\n  <ol>\n    <li>\n      <p>\n        <strong>Use a regular expression library.</strong> C&#43;&#43; does not have built-in regular expression functionality. The Boost.Regex library is recommended for regular expressions with C&#43;&#43;. If your application uses managed code, .NET has a nice regular expressions API built-in as System.Text.RegularExpressions.</p>\n      <li>\n        <p>\n          <strong>Determine valid input patterns.</strong> Identify the types of valid input for your input application. For example, some input follows obvious patterns, such as social security or credit card numbers. Other types of input may have less obvious patterns, such as file names. Write regular expressions that describe valid input for your application. Some common regular expressions are listed below:</p>\n        <ul>\n          <li>\n            <p>\n              <strong>Name<br /></strong>&#94;&#91;a-zA-Z''-'\\s&#93;&#123;1,40&#125;&#36;<br />Validates a name. Allows up to 40 uppercase and lowercase characters and a few special characters that are common to some names. You can modify this list.</p>\n            <li>\n              <p>\n                <strong>Social Security Number<br /></strong>&#94;\\d&#123;3&#125;-\\d&#123;2&#125;-\\d&#123;4&#125;&#36;<br />Validates the format, type, and length of the supplied input field. The input must consist of 3 numeric characters followed by a dash, then 2 numeric characters followed by a dash, and then 4 numeric characters.</p>\n              <li>\n                <p>\n                  <strong>Phone Number<br /></strong>&#94;&#91;01&#93;?&#91;- .&#93;?(\\(&#91;2-9&#93;\\d&#123;2&#125;\\)&#124;&#91;2-9&#93;\\d&#123;2&#125;)&#91;- .&#93;?\\d&#123;3&#125;&#91;- .&#93;?\\d&#123;4&#125;&#36;<br />Validates a U.S. phone number. It must consist of 3 numeric characters, optionally enclosed in parentheses, followed by a set of 3 numeric characters and then a set of 4 numeric characters. </p>\n                <li>\n                  <p>\n                    <strong>E-mail<br /></strong>&#94;(&#91;0-9a-zA-Z&#93;(&#91;-.\\w&#93;&#42;&#91;0-9a-zA-Z&#93;)&#42;&#64;(&#91;0-9a-zA-Z&#93;&#91;-\\w&#93;&#42;&#91;0-9a-zA-Z&#93;\\.)&#43;&#91;a-zA-Z&#93;&#123;2,9&#125;)&#36;<br />Validates an e-mail address.</p>\n                  <li>\n                    <p>\n                      <strong>URL<br /></strong>&#94;(ht&#124;f)tp(s?)\\:\\/\\/&#91;0-9a-zA-Z&#93;(&#91;-.\\w&#93;&#42;&#91;0-9a-zA-Z&#93;)&#42;(:(0-9)&#42;)&#42;(\\/?)(&#91;a-zA-Z0-9\\-\\.\\?\\,\\'\\/\\\\\\&#43;&&#37;\\&#36;#_&#93;&#42;)?&#36;<br />Validates a URL </p>\n                    <li>\n                      <p>\n                        <strong>ZIP Code<br /></strong>&#94;(\\d&#123;5&#125;-\\d&#123;4&#125;&#124;\\d&#123;5&#125;&#124;\\d&#123;9&#125;)&#36;&#124;&#94;(&#91;a-zA-Z&#93;\\d&#91;a-zA-Z&#93; \\d&#91;a-zA-Z&#93;\\d)&#36;<br />Validates a U.S. ZIP Code. The code must consist of 5 or 9 numeric characters.</p>\n                      <li>\n                        <p>\n                          <strong>Password<br /></strong>(?&#33;&#94;&#91;0-9&#93;&#42;&#36;)(?&#33;&#94;&#91;a-zA-Z&#93;&#42;&#36;)&#94;(&#91;a-zA-Z0-9&#93;&#123;8,40&#125;)&#36;<br />Validates a strong password. It must be between 8 and 40 characters, contain at least one digit and one alphabetic character, and must not contain special characters.</p>\n                        <li>\n                          <p>\n                            <strong>Non- negative integer<br /></strong>&#94;\\d&#43;&#36;<br />Validates that the field contains an integer greater than zero.</p>\n                          <li>\n                            <p>\n                              <strong>Currency (non- negative)<br /></strong>&#94;\\d&#43;(\\.\\d\\d)?&#36;<br />Validates a positive currency amount. If there is a decimal point, it requires 2 numeric characters after the decimal point. For example, 3.00 is valid but 3.1 is not.</p>\n                            <li>\n                              <p>\n                                <strong>Currency (positive or negative)<br /></strong>&#94;(-)?\\d&#43;(\\.\\d\\d)?&#36;<br />Validates for a positive or negative currency amount. If there is a decimal point, it requires 2 numeric characters after the decimal point.</p>\n                            </li>\n                          </li>\n                        </li>\n                      </li>\n                    </li>\n                  </li>\n                </li>\n              </li>\n            </li>\n          </li>\n        </ul>\n        <li>\n          <p>\n            <strong>Use regular expressions to constrain input.</strong> Use the regular expressions you have written to constrain input as the first step of your input validation strategy.</p>\n        </li>\n      </li>\n    </li>\n  </ol>\n  <h1>Additional Resources</h1>\n  <ul>\n    <li>For more information about the Boost.Regex library, please see \"Boost.Regex\" at <a href=\"http://www.boost.org/doc/libs/1_36_0/libs/regex/doc/html/index.html\">http://www.boost.org/doc/libs/1_36_0/libs/regex/doc/html/index.html</a><li>For more information about regular expressions, please&nbsp;see the regular expression tutorial at <a href=\"http://www.regular-expressions.info/tutorial.html\">http://www.regular-expressions.info/tutorial.html</a>.</li></li>\n  </ul>\n  <h1>Related Items</h1>\n  <ul>\n    <li>\n      <a href=\"/article/3de41277-0cc1-4ebc-8dd7-e96d161aa0ef\">Validate All Input</a>\n      <li>\n        <a href=\"/article/cc81757b-6da5-4463-92f9-d27f680ad6c7\">Centralize Input Validation</a>\n      </li>\n    </li>\n  </ul>\n  <hr />\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
        ]
      }
    ]
  }
}