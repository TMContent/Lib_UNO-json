{
  "TeamMentor_Article": {
    "$": {
      "Metadata_Hash": "1692111508",
      "Content_Hash": "-1783755811"
    },
    "Metadata": [
      {
        "Id": [
          "8f4ebd05-5ea4-4e26-8d8d-7867d02cb10b"
        ],
        "Id_History": [
          "8f4ebd05-5ea4-4e26-8d8d-7867d02cb10b,7f6a9c88-7af0-4dae-bea1-5bf46278e620,"
        ],
        "Library_Id": [
          "92718d53-36b2-47bc-b6f5-e60994385f46"
        ],
        "Title": [
          "Use a Custom Trace Listener to Filter Sensitive Application Data in Messages"
        ],
        "Category": [
          "Auditing and Logging"
        ],
        "Phase": [
          "Implementation"
        ],
        "Technology": [
          "WCF"
        ],
        "Type": [
          "Guideline"
        ],
        "DirectLink": [
          "Use a Custom Trace Listener to Filter Sensitive Application Data in Messages"
        ],
        "Tag": [
          "WCF 3.5"
        ],
        "Security_Demand": [
          ""
        ],
        "Author": [
          ""
        ],
        "Priority": [
          "J.D. Meier, Jason Taylor, Prashant Bansode, Carlos Farre, Madhu Sundararajan, Rob Boucher, Steve Gregersen"
        ],
        "Status": [
          ""
        ],
        "Source": [
          "SI"
        ]
      }
    ],
    "Content": [
      {
        "$": {
          "Sanitized": "true",
          "DataType": "Html"
        },
        "Data": [
          "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>Microsoft&#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&#174; 2008</li></li>\r\n  </ul>\r\n  <h1>What to Do</h1>\r\n  <p>Consider using a custom Trace Listener to filter sensitive application data in messages.</p>\r\n  <h1>Why</h1>\r\n  <p>By using a custom listener with additional options you can have more control over the messages to be logged.</p>\r\n  <h1>When</h1>\r\n  <p>When you need a message filter for filtering application-specific personally identifiable information (PII) elements from messages before logging.</p>\r\n  <h1>How</h1>\r\n  <p>Adding a custom trace listener on the Message Logging trace source is a privilege that should be restricted to the administrator. This is because malicious custom listeners can be configured to send messages remotely, which leads to sensitive information disclosure. In addition, if you configure a custom listener to send messages on the wire, such as, to a remote database, you should enforce proper access control on the message logs in the remote machine.</p>\r\n  <p>The following demonstrates a custom listener configuration.</p>\r\n  <pre>&lt;system.diagnostics&gt;<br />   &lt;sources&gt;<br />     &lt;source name=\"System.ServiceModel.MessageLogging\"&gt;<br />           &lt;listeners&gt;<br />             &lt;add name=\"MyListener\" <br />                    type=\"YourCustomListener\"<br />                    initializeData=\"c:\\logs\\messages.svclog\"<br />                    maxDiskSpace=\"1000\"/&gt;<br />           &lt;/listeners&gt;<br />     &lt;/source&gt;<br />   &lt;/sources&gt;<br />&lt;/system.diagnostics&gt;</pre>\r\n  <h1>Additional Resources</h1>\r\n  <ul>\r\n    <li>For more information see &#8220;Security Concerns and Useful Tips for Tracing&#8221; at <a href=\"http://msdn2.microsoft.com/en-us/library/ms733053.aspx\">http://msdn2.microsoft.com/en-us/library/ms733053.aspx</a></li>\r\n  </ul>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
        ]
      }
    ]
  }
}