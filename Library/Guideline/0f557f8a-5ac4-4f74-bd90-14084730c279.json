{
  "TeamMentor_Article": {
    "$": {
      "Metadata_Hash": "-558252586",
      "Content_Hash": "2039501820"
    },
    "Metadata": [
      {
        "Id": [
          "0f557f8a-5ac4-4f74-bd90-14084730c279"
        ],
        "Id_History": [
          "0f557f8a-5ac4-4f74-bd90-14084730c279,48987115-73ac-4d82-98c3-aa2dfbc86eee,"
        ],
        "Library_Id": [
          "be5273b1-d682-4361-99d9-6234f2d47eb7"
        ],
        "Title": [
          "Minimize Exposure of Secrets in Memory"
        ],
        "Category": [
          "Cryptography"
        ],
        "Phase": [
          "Implementation"
        ],
        "Technology": [
          "WCF"
        ],
        "Type": [
          "Guideline"
        ],
        "DirectLink": [
          ""
        ],
        "Tag": [
          "WCF 3.5"
        ],
        "Security_Demand": [
          ""
        ],
        "Author": [
          ""
        ],
        "Priority": [
          "J.D. Meier, Jason Taylor, Prashant Bansode, Carlos Farre, Madhu Sundararajan, Rob Boucher, Steve Gregersen"
        ],
        "Status": [
          ""
        ],
        "Source": [
          "SI"
        ]
      }
    ],
    "Content": [
      {
        "$": {
          "Sanitized": "true",
          "DataType": "Html"
        },
        "Data": [
          "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>Microsoft&#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&#174; 2008</li></li>\r\n  </ul>\r\n  <h1>What to Do</h1>\r\n  <p>If your are&nbsp;manipulating secrets, minimize exposure of secrets in memory. </p>\r\n  <h1>How</h1>\r\n  <p>When manipulating secrets, consider how the secret data is stored in memory. How long is the secret data retained in clear-text format? Clear-text secrets held in your process address space are vulnerable if an attacker is able to probe your application&#8217;s address space. Also, if the page of memory containing the secret is swapped out to the page file, the secret data is vulnerable if someone gains access to the page file. Similarly, clear text secrets held in memory appear in the crash dump file if a process crashes. <br />To minimize the exposure of secrets in memory, consider the following measures: </p>\r\n  <ul>\r\n    <li>Avoid creating multiple copies of the secret. Having multiple copies of the secret data increases your attack surface. Pass references to secret data instead of making copies of the data. Also realize that if you store secrets in immutable System.String objects, a new copy is created after each string manipulation. </li>\r\n    <li>Keep the secret encrypted for as long as possible. Decrypt the data at the last possible moment before you need to use the secret.</li>\r\n    <li>Clean the clear-text version of the secret as soon as you can. Replace the clear-text copy of the secret data with zeros as soon as you have finished with it.</li>\r\n  </ul>\r\n  <p>Prior to .NET Framework 2.0, the use of byte arrays was recommended to help implement these guidelines. Byte arrays can be pinned in memory, encrypted, and replaced with zeros. In .NET Framework 2.0, use SecureString instead.</p>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
        ]
      }
    ]
  }
}