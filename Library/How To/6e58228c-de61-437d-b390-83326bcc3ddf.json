{
  "TeamMentor_Article": {
    "$": {
      "Metadata_Hash": "-1479864822",
      "Content_Hash": "-1070056114"
    },
    "Metadata": [
      {
        "Id": [
          "6e58228c-de61-437d-b390-83326bcc3ddf"
        ],
        "Id_History": [
          "6e58228c-de61-437d-b390-83326bcc3ddf,b53987bd-0186-4062-9f51-b33399874237,"
        ],
        "Library_Id": [
          "26bd1a04-beed-4a66-917d-b6ab0a7d634c"
        ],
        "Title": [
          "How to Use Membership"
        ],
        "Category": [
          "Authentication"
        ],
        "Phase": [
          "Implementation"
        ],
        "Technology": [
          ".NET"
        ],
        "Type": [
          "How To"
        ],
        "DirectLink": [
          "How to Use Membership"
        ],
        "Tag": [
          ""
        ],
        "Security_Demand": [
          ""
        ],
        "Author": [
          ""
        ],
        "Priority": [
          ""
        ],
        "Status": [
          ""
        ],
        "Source": [
          "SI"
        ]
      }
    ],
    "Content": [
      {
        "$": {
          "Sanitized": "true",
          "DataType": "Html"
        },
        "Data": [
          "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>ASP.NET 4.0</li>\r\n  </ul>\r\n  <h1>Summary</h1>\r\n  <p>This How to shows how to use the membership feature in ASP.NET applications. It shows you how to use two different membership providers: the <em>ActiveDirectoryMembershipProvider</em> and the <em>SqlMembershipProvider</em>. The membership feature greatly reduces the amount of code you have to write to authenticate users at your Web site. The <em>ActiveDirectoryMembership</em> provider uses Microsoft Active Directory directory service to maintain user information, while the <em>SqlMembershipProvider</em> stores user details in a SQL Server database.</p>\r\n  <h1>Contents</h1>\r\n  <ul>\r\n    <li>Objectives <li>Overview <li>Using the ActiveDirectoryMembershipProvider <li>Using the SQLMembershipProvider <li>ActiveDirectoryMembershipProvider Configuration Attributes <li>SqlMembershipProvider Configuration Attributes <li>Membership APIs <li>Additional Considerations <li>Additional Resources</li></li></li></li></li></li></li></li></li>\r\n  </ul>\r\n  <h1>Objectives</h1>\r\n  <ul>\r\n    <li>Learn to use membership with forms authentication. <li>Configure the <em>ActiveDirectoryMembershipProvider</em> for use with forms authentication. <li>Create and authenticate users by using the <em>ActiveDirectoryMembershipProvider</em>. <li>Configure the <em>SqlMembershipProvider</em> for use with forms authentication. <li>Set up the SQL Server membership database. <li>Create and authenticate users by using the <em>SqlMembershipProvider</em>.<b></b></li></li></li></li></li></li>\r\n  </ul>\r\n  <h1>Overview</h1>\r\n  <p>The ASP.NET membership feature provides secure credential storage for application users. It also provides a membership API that simplifies the task of validating user credentials when used with forms authentication. Membership providers abstract the underlying store used to maintain user credentials. ASP.NET includes the following providers: </p>\r\n  <ul>\r\n    <li>\r\n      <b>ActiveDirectoryMembershipProvider.</b> This uses either an Active Directory or Active Directory Application Mode (ADAM) user store. <li><b>SqlMembershipProvider.</b> This uses a SQL Server user store. </li></li>\r\n  </ul>\r\n  <p>With the pluggable membership architecture, you can also add support for your own user stores. For example, you can add support for other Lightweight Directory Access Protocol (LDAP) directories or other existing corporate identity stores. To do so, you create a custom provider that uses the <em>MembershipProvider</em> abstract class.</p>\r\n  <p>In most cases, the user store contains user credentials such as user names and passwords, and in some cases, personalization information. Avoid mixing personalization with authentication. If you only need to identify users for personalization reasons, a simple user name inside a cookie is sufficient. However, if you want to restrict and control access to different areas and functions of your Web site and if you need to audit operations attributed to different users, then you must use authenticated access and forms authentication.</p>\r\n  <h1>Using the ActiveDirectoryMembershipProvider</h1>\r\n  <p>You use the <em>ActiveDirectoryMembershipProvider</em> with forms authentication if your user information is stored in Active Directory. This situation normally occurs when you have an intranet application and you cannot use integrated Windows authentication because of firewalls or the need to accommodate mixed browser types.</p>\r\n  <h2>Summary of Steps</h2>\r\n  <p>Complete the following steps to configure and use the <em>ActiveDirectoryMembershipProvider</em> with an ASP.NET application that uses forms authentication. </p>\r\n  <ul>\r\n    <li>Step 1. Configure forms authentication. <li>Step 2. Configure the ActiveDirectoryMembershipProvider. <li>Step 3. Create users. <li>Step 4. Authenticate users. </li></li></li></li>\r\n  </ul>\r\n  <h3>Step 1. Configure Forms Authentication</h3>\r\n  <p>To configure forms authentication, set the &lt;<em>authentication</em>&gt; element's <em>mode</em> attribute to <em>\"Forms\"</em><strong></strong>and then configure your application's <em>Web.config</em> file as shown in the following example.</p>\r\n  <pre>&lt;authentication mode=\"Forms\"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;forms loginUrl=\"Login.aspx\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protection=\"All\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; timeout=\"30\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=\"AppNameCookie\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path=\"/FormsAuth\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requireSSL=\"false\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slidingExpiration=\"true\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultUrl=\"default.aspx\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cookieless=\"UseCookies\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableCrossAppRedirects=\"false\"/&gt;<br />&lt;/authentication&gt;  </pre>\r\n  <p>Where: </p>\r\n  <ul>\r\n    <li>\r\n      <b>loginUrl</b> points to the login page. You should place this in a folder that requires Secure Sockets Layer (SSL) for access. <li><b>protection</b> is set to <em>\"All\"</em> to specify privacy and integrity for the forms authentication ticket. <li><b>timeout</b> is used to specify a limited session lifetime. <li><b>name</b> and <b>path</b> are set to unique values for the current application. <li><b>requireSSL</b> is set to <em>\"false\"</em>. This configuration means that authentication cookie can be transmitted over channels that are not SSL-protected. If you are concerned about session hijacking, you should consider setting this to <em>\"true\"</em>. <li><b>slidingExpiration</b> is set to <em>\"true\"</em> to enforce a sliding session lifetime. This means that the <em>timeout</em> is reset after each request to your application. <li><b>defaultUrl</b> is set to the <em>Default.aspx</em> page for the application. <li><b>cookieless</b> is set to \"<em>UseCookies</em>\" to specify that the application uses cookies to send the authentication ticket to the client. <li><b>enableCrossAppRedirects</b> is set to <em>\"false\"</em> to indicate that the application cannot redirect requests outside the application scope. </li></li></li></li></li></li></li></li></li>\r\n  </ul>\r\n  <p>Add the following &lt;<em>authorization</em>&gt; element after the &lt;<em>authentication</em>&gt; element. This permits only authenticated users to access the application. The previously established <em>loginUrl</em> attribute of the &lt;<em>authentication</em>&gt; element will redirect unauthenticated requests to the <em>Login.aspx</em> page.</p>\r\n  <pre>&lt;authorization&gt;<br />    &lt;deny users=\"?\" /&gt;<br />   &lt;allow users=\"&#42;\" /&gt;<br />&lt;/authorization&gt;  </pre>\r\n  <h3>Step 2. Configure the ActiveDirectoryMembershipProvider</h3>\r\n  <p>Configure the <em>ActiveDirectoryMembershipProvider</em> in your application's <em>Web.config</em> file as shown in the following example.</p>\r\n  <pre>&lt;connectionStrings&gt;<br />&nbsp; &lt;add name=\"ADConnectionString\" <br />&nbsp;&nbsp; connectionString=<br />&nbsp;&nbsp;&nbsp; \"LDAP://domain.testing.com/CN=Users,DC=domain,DC=testing,DC=com\" /&gt;<br />&lt;/connectionStrings&gt;<br /><br />&lt;system.web&gt;<br />&nbsp;...<br />&nbsp;&lt;membership defaultProvider=\"MembershipADProvider\"&gt;<br />&nbsp; &lt;providers&gt;<br />&nbsp;&nbsp;&nbsp; &lt;add<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=\"MembershipADProvider\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=\"System.Web.Security.ActiveDirectoryMembershipProvider, System.Web, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Version=3.5.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connectionStringName=\"ADConnectionString\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connectionUsername=\"&lt;domainName&gt;\\administrator\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connectionPassword=\"password\"/&gt;<br />&nbsp;&nbsp; &lt;/providers&gt;<br />&nbsp;&lt;/membership&gt;<br />&nbsp;...<br />&lt;/system.web&gt;</pre>\r\n  <p>The preceding code sample uses the &lt;<em>add</em>&gt; child element of the &lt;<em>providers</em>&gt; element to define a membership provider that uses the <em>ActiveDirectoryMembershipProvider</em>.</p>\r\n  <p>The connection string to the Active Directory user store is in the following format:</p>\r\n  <pre>LDAP:// server/userdn</pre>\r\n  <p>Where: </p>\r\n  <ul>\r\n    <li>\r\n      <em>server</em> is the name (or IP address) of the server that is hosting the directory. <li><em>userdn</em> is the distinguished name (DN) of the Active Directory user store. This consists of <em>/CN=Users</em> which is the user store container name, followed by the partition, which is derived from the fully qualified domain name. </li></li>\r\n  </ul>\r\n  <p>For example, if your domain is called <em>domain.testing.com</em>, the connection string is <em>LDAP://domain.testing.com/CN=Users,DC=domain,DC=testing,DC=com</em>.</p>\r\n  <p>Optionally, configure the credentials, using the <em>connectionUserName</em> and <em>connectionPassword</em> attributes, of an account capable of accessing Active Directory with the necessary permissions. If you do not specify account credentials, your application's process identity is used to access Active Directory, regardless of whether your application uses impersonation. Either the account specified in the Web.config file or your process account must have the appropriate permissions to access Active Directory.</p>\r\n  <p>Encrypt the connection strings element because it contains the network details. If you specify credentials in the <em>ActiveDirectoryMembershipProvider</em> configuration, encrypt the membership configuration element as well. You can use the Protected Configuration feature to encrypt the configuration section.&nbsp; </p>\r\n  <p>\r\n    <b>Note:</b>&nbsp;Make sure to set the <em>defaultProvider</em> attribute value of the &lt;<em>membership</em>&gt; element to the name of your <em>ActiveDirectoryMembershipProvider</em> (called <em>MembershipADProvider</em> in this example). You need to do this to override the machine-level default defined in the <em>&#37;windir&#37;\\Microsoft.NET\\Framework\\&#123;Version&#125;\\Config\\machine.config.comments</em> file. This defines the <em>defaultProvider</em> to be <em>AspNetSqlMembershipProvider</em>, which is a provider that uses the <em>SQLMembershipProvider</em> to write to a SQL Server Express database in the <em>\\app_data</em> folder of your application.<b></b></p>\r\n  <p>In addition to the above attributes, the <em>ActiveDirectoryMembershipProvider</em> has attributes that you can optionally overwrite. </p>\r\n  <h3>Step 3. Create Users</h3>\r\n  <p>You can create new users in the following ways: </p>\r\n  <ul>\r\n    <li>Use the Web Site Administration Tool, which provides a wizard-like interface for creating new users. To start this tool, click <em>ASP.NET Configuration</em> on the <em>Website</em> menu in the Microsoft Visual Studio development system. <li>Create an ASP.NET page that contains a <em>CreateUserWizard</em> control. This control uses the configured membership provider to encapsulate the logic of creating a new user. <li>Create an ASP.NET Web page that contains <em>TextBox</em> controls to obtain the user name and password (and, optionally, the user's e-mail address), and then use the <em>CreateUser</em> Membership API method to programmatically create the new user. </li></li></li>\r\n  </ul>\r\n  <p>\r\n    <b>Note:</b>&nbsp;All of these techniques use the <em>Membership.CreateUser</em> method.<b></b></p>\r\n  <p>The default configuration for the <em>ActiveDirectoryMembershipProvider</em> uses user principal names (UPNs) for name mapping, as shown below:</p>\r\n  <pre>attributeMapUsername=\"userPrincipalName\"  </pre>\r\n  <p>Therefore all user names must have the following format:</p>\r\n  <pre>UserName&#64;DomainName  </pre>\r\n  <p>If you call <em>Membership.CreateUser</em> programmatically, use this format:</p>\r\n  <pre>Membership.CreateUser(\"UserName&#64;DomainName\", \"P&#64;ssw0rd\", \"userName&#64;emailAddress\");   </pre>\r\n  <p>You can change the user mapping type by setting the following attribute in the Membership Provider configuration in the <em>Web.config</em> file.</p>\r\n  <pre>attributeMapUsername=\"sAMAccountName\"  </pre>\r\n  <p>With this configuration, supply user names in the following format:</p>\r\n  <pre>UserName  </pre>\r\n  <p>For example:</p>\r\n  <pre>Membership.CreateUser(\"UserName\", \"P&#64;ssw0rd\", \"userName&#64;emailAddress\")  </pre>\r\n  <p>\r\n    <b>Note: </b>You should set the <em>requiresUniqueEmail</em> attribute to <em>\"true\"</em> to ensure that users supply unique e-mail addresses.<b></b></p>\r\n  <h3>Step 4. Authenticate Users</h3>\r\n  <p>To authenticate users, you must provide a login form. This could be a separate page or a special area on your application's home page.</p>\r\n  <p>You can create the login form in the following ways: </p>\r\n  <ul>\r\n    <li>Use the ASP.NET login controls. The ASP.NET login controls encapsulate nearly all of the logic required to obtain credentials from users and to validate them against a user store. They use the configured membership provider. You do not need to write any additional code. <p>After the user is validated, the login controls automatically save information about the user; for example, by using an encrypted cookie if the user's browser accepts cookies. </p><li>Create custom login forms by using ASP.NET <em>TextBox</em> controls. If you create a custom login form with simple <em>TextBox</em> controls, you can prompt the user for a user name and password, and then call the <em>ValidateUser</em> method of the <em>Membership</em> class to perform the validation. <p>You also need to call methods of the <em>FormsAuthentication</em> class to create the cookie and write it to the user's computer, as shown in the following example. </p><pre>if (Membership.ValidateUser(userName.Text, password.Text))<br />&#123;<br />&nbsp; if (Request.QueryString&#91;\"ReturnUrl\"&#93; &#33;= null)<br />&nbsp; &#123;<br />&nbsp;&nbsp;&nbsp; FormsAuthentication.RedirectFromLoginPage(userName.Text, false);<br />&nbsp; &#125;<br />&nbsp; else<br />&nbsp; &#123;<br />&nbsp;&nbsp;&nbsp; FormsAuthentication.SetAuthCookie(userName.Text, false);<br />&nbsp; &#125;<br />&#125;<br />else<br />&#123;<br />&nbsp; Response.Write(\"Invalid UserID and Password\");<br />&#125;  </pre><p><b>Note:</b>&nbsp;Both of these techniques use the<strong></strong><em>Membership.CreateUser</em> method.<b></b></p></li></li>\r\n  </ul>\r\n  <p>The default <em>ActiveDirectoryMembershipProvider</em> configuration uses user principal names (UPNs) for name mapping. If you call the <em>Membership.ValidateUser</em> method, be sure to use a UPN name as shown in the following example.</p>\r\n  <pre>bool isValidUser = Membership.ValidateUser(\"UseName&#64;DomainName\", \"P&#64;ssw0rd\");   </pre>\r\n  <p>You can change the mapping for each user by setting the following attribute in the Membership Provider configuration section of the <em>Web.config</em> file.</p>\r\n  <pre>attributeMapUsername=\"sAMAccountName\"  </pre>\r\n  <p>With this configuration, you must call <em>Membership.ValidateUser</em> as shown here in the following example.</p>\r\n  <pre>bool isValidUser = Membership.ValidateUser(\"UserName\", \"P&#64;ssw0rd\", \"userName&#64;emailAddress\")  </pre>\r\n  <h1>Using the SQLMemberShipProvider</h1>\r\n  <p>You use the <em>SQLMembershipProvider</em> with forms authentication if your user information is stored in SQL Server. In most cases, this occurs when you have an intranet and user information is application-specific or when the application is Internet facing and the users do not have Active Directory accounts.</p>\r\n  <p>When you install ASP.NET, the <em>Machine.config</em> file for your server includes configuration elements that specify SQL Server membership providers. By default, the SQL provider is configured to connect to the local instance of SQL Server. </p>\r\n  <h2>Summary of Steps</h2>\r\n  <p>Complete the following steps to configure and use the <em>SqlMembershipProvider</em> with an ASP.NET application that uses forms authentication. </p>\r\n  <ul>\r\n    <li>Step 1. Configure forms authentication. <li>Step 2. Install the membership database. <li>Step 3. Configure the SqlMembershipProvider. <li>Step 4. Create users. <li>Step 5. Authenticate users. </li></li></li></li></li>\r\n  </ul>\r\n  <h3>Step 1. Configure Forms Authentication </h3>\r\n  <p>Set the &lt;<em>authentication</em>&gt; element's <em>mode</em> attribute to <em>\"Forms\"</em> and then configure it in your application's <em>Web.config</em> file, as shown in the following example</p>\r\n  <pre>&lt;authentication mode=\"Forms\"&gt;<br />&nbsp;&nbsp; &lt;forms loginUrl=\"Login.aspx\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protection=\"All\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; timeout=\"30\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=\"AppNameCookie\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path=\"/FormsAuth\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requireSSL=\"false\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slidingExpiration=\"true\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultUrl=\"default.aspx\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cookieless=\"UseCookies\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableCrossAppRedirects=\"false\" /&gt;<br />&lt;/authentication&gt;  </pre>\r\n  <p>Where: </p>\r\n  <ul>\r\n    <li>\r\n      <b>loginUrl</b> points to the login page. You should place this in a folder that requires Secure Sockets Layer (SSL) for access. <li><b>protection</b> is set to <em>\"All\"</em> to specify privacy and integrity for the forms authentication ticket. <li><b>timeout</b> is used to specify a limited session lifetime. <li><b>name</b> and <b>path</b> are set to unique values for the current application. <li><b>requireSSL</b> is set to <em>\"false\"</em>. This configuration means that authentication cookie can be transmitted over channels that are not SSL-protected. If you are concerned with session hijacking, you should consider setting this to <em>\"true\"</em>. <li><b>slidingExpiration</b> is set to <em>\"true\"</em> to enforce a sliding session lifetime. This means that the <em>timeout</em> is reset after each request to your application. <li><b>defaultUrl</b> is set to the <em>Default.aspx</em> page for the application. <li><b>cookieless</b> is set to <em>\"UseCookies\"</em> to specify that the application uses cookies to send the authentication ticket to the client. <li><b>enableCrossAppRedirects</b> is set to <em>\"false\"</em>, to indicate that the application cannot redirect the request outside the application scope. </li></li></li></li></li></li></li></li></li>\r\n  </ul>\r\n  <p>Add the following &lt;<em>authorization</em>&gt; element after the &lt;<em>authentication</em>&gt; element. This permits only authenticated users to access the application. The previously established <em>loginUrl</em> attribute of the &lt;<em>authentication</em>&gt; element redirects unauthenticated requests to the <em>Login.aspx</em> page.</p>\r\n  <pre>&lt;authorization&gt; <br />&nbsp;&nbsp; &lt;deny users=\"?\" /&gt;<br />&nbsp;&nbsp; &lt;allow users=\"&#42;\" /&gt;<br />&nbsp;&lt;/authorization&gt;  </pre>\r\n  <h3>Step 2. Install the Membership Database</h3>\r\n  <p>Before you can use the <em>SqlMembershipProvider</em>, you must install the SQL Server membership database.</p>\r\n  <p>To install the membership database, log on to your server with an account that has authority to administrate SQL Server (such as the Administrator account). Open the Visual Studio command prompt, and run the following command:</p>\r\n  <pre>aspnet_regsql.exe -E -S localhost -A m</pre>\r\n  <p>Where: </p>\r\n  <ul>\r\n    <li>\r\n      <em>-E</em> indicates authenticate using the Windows credentials of the currently logged on user. <li><em>-S</em> (server) indicates the name of the server where the database will be installed or is already installed. <li><em>-A m</em> indicates add membership support. This creates the tables and stored procedures required by the membership provider. </li></li></li>\r\n  </ul>\r\n  <p>\r\n    <b>Note:</b>&nbsp;The <em>Aspnet_regsql</em> tool is also used to install database elements for other ASP.NET features, such as <em>Role Management</em>, <em>Profile</em>, <em>Web Parts Personalization</em>, and <em>Web Events</em>. Other command-line arguments perform database operations for these other features. You can use Aspnet_regsql without any command line arguments by using a wizard that allows you to specify connection information for your SQL Server and install or remove the database elements for all of the supported features.<b></b></p>\r\n  <h3>Step 3. Configure the SqlMembershipProvider</h3>\r\n  <p>The <em>Machine.config</em> file contains a default <b><em>SqlMembershipProvider</em></b> instance named <b><em>AspNetSqlMembershipProvider</em></b> that connects to the SQL Server Express instance on the local computer. You can use this instance of the provider if you are running SQL Server locally. Alternatively, you can specify provider details in your application's <em>Web.config</em> file, as shown here in the following example.</p>\r\n  <pre>&lt;connectionStrings&gt;<br />&nbsp; &lt;add name=\"MySqlConnection\"<br />   connectionString=\"Data Source=MySqlServer;Initial Catalog=aspnetdb;Integrated Security=SSPI;\" /&gt;<br />&lt;/connectionStrings&gt;<br />&lt;system.web&gt;<br />...<br />&nbsp; &lt;membership defaultProvider=\"SqlProvider\" userIsOnlineTimeWindow=\"15\"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;providers&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;clear /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=\"SqlProvider\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=\"System.Web.Security.SqlMembershipProvider\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connectionStringName=\"MySqlConnection\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; applicationName=\"MyApplication\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enablePasswordRetrieval=\"false\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enablePasswordReset=\"true\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requiresQuestionAndAnswer=\"true\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requiresUniqueEmail=\"true\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; passwordFormat=\"Hashed\" /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/providers&gt;<br />&nbsp; &lt;/membership&gt;  </pre>\r\n  <p>\r\n    <b>Important:</b>&nbsp;Ensure that the ASP.NET process identity (or, if using impersonation, the impersonated identity) have appropriate permissions on the SQL Server database.</p>\r\n  <p>Encrypt the connection strings element using Protected Configuration because this element contains the database connection details.&nbsp; </p>\r\n  <p>Make sure to set the <em>defaultProvider</em> attribute value to point to your provider definition. The default value points to <em>AspNetSqlProvider</em>, which uses the local <em>SqlExpress</em> instance.</p>\r\n  <h3>Step 4. Create Users</h3>\r\n  <p>You can create new users in the following ways: </p>\r\n  <ul>\r\n    <li>Use the Web Site Administration Tool, which provides a wizard-like interface for creating new users. To start this tool, click <em>ASP.NET Configuration</em> on the <em>Website</em> menu in Visual Studio. <li>Create an ASP.NET page that contains a <em>CreateUserWizard</em> control. This control uses the configured membership provider to encapsulate the logic of creating a new user. <li>Create an ASP.NET Web page that contains the <em>TextBox</em> controls used to collect the user name and password (and, optionally, the user's e-mail address), and then use the <em>Membership.CreateUser</em> API to create a new user in the membership system. </li></li></li>\r\n  </ul>\r\n  <p>The following code shows how to call <em>Membership CreateUser</em>.</p>\r\n  <pre>Membership.CreateUser(\"Username\", \"P&#64;ssw0rd\", \"userName&#64;emailAddress\");   </pre>\r\n  <h3>Step 5. Authenticate Users</h3>\r\n  <p>To authenticate users, you must provide a login form. This could be a separate page or a special area on your application's home page.</p>\r\n  <p>You can create the login form in the following ways: </p>\r\n  <ul>\r\n    <li>Use the ASP.NET login controls. The ASP.NET login controls encapsulate nearly all of the logic required to obtain credentials from users and to validate them against a user store. They use the configured membership provider. You do not need to write any additional code. <p>After the user is validated, the login controls automatically save information about the user; for example, by using an encrypted cookie if the user's browser accepts cookies. </p><li>Create a custom login form by using ASP.NET <em>TextBox</em> controls. If you create a custom login form with simple <em>TextBox</em> controls, you can prompt the user for a user name and password, and then call the <em>ValidateUser</em> method of the <em>Membership</em> class to perform the validation. </li></li>\r\n  </ul>\r\n  <h1>ActiveDirectoryMembershipProvider Configuration Attributes</h1>\r\n  <p>Table 1 lists the <em>ActiveDirectoryMembershipProvider</em> configuration attributes, their default values, and notes for their usage.</p>\r\n  <p>\r\n    <b>Table 1: ActiveDirectoryMembershipProvider Configuration Attributes</b>\r\n  </p>\r\n  <div>\r\n    <table>\r\n      <tbody>\r\n        <tr>\r\n          <th>Attribute</th>\r\n          <th>Default Value</th>\r\n          <th>Notes</th>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>connectionStringName</b>\r\n          </td>\r\n          <td>&nbsp;</td>\r\n          <td>Points to a connection string contained in the connection strings configuration section. This attribute is required because it points to the primary LDAP bind string that is used for <em>create</em>, <em>update</em>, <em>get</em>, and <em>validate</em> operations.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>connectionUserName</b>\r\n          </td>\r\n          <td>&nbsp;</td>\r\n          <td>Defines the user name used for authentication purposes when connecting to the directory. If this attribute is specified, the companion <em>connectionPassword</em> attribute must also be specified. This attribute is used to configure a set of credentials that can be used to connect to the directory (instead of using the process account or impersonation credentials that are in effect at the time the provider connects to the directory).</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>connectionPassword</b>\r\n          </td>\r\n          <td>&nbsp;</td>\r\n          <td>Defines the password used for authentication purposes when connecting to the directory. If this attribute is specified, the companion <em>connectionUserName</em> attribute must also be specified. This attribute is used to configure a set of credentials that can be used to connect to the directory (instead of using the process account or impersonation credentials that are in effect at the time the provider connects to the directory).</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>connectionProtection</b>\r\n          </td>\r\n          <td>\r\n            <b>Secure</b>\r\n          </td>\r\n          <td>Defines the transport layer security options that are used when opening connections to the directory. This attribute can have a string value of <em>\"Secure\"</em><strong></strong>or<strong></strong><em>\"None\"</em>. <p>If set to <em>\"Secure\"</em>, the provider attempts to select the highest level of connection security available, based on the type of directory that the provider connects to. The protection is determined as follows:<br />SSL is first attempted because SSL is an option that works with both Active Directory and ADAM (<em>ActiveDirectoryConnectionProtection.Ssl</em>).<br />If SSL is not available and the provider is connecting to Active Directory or to a domain-joined ADAM instance, encrypt-sign-and-seal is used (<em>ActiveDirectoryConnectionProtection.SignAndSeal</em>).<br />If neither SSL nor encrypt-sign-seal is available, the provider generates a <em>ProviderException</em>, stating that it could not automatically select a secure connection to the configured directory.</p></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>enablePasswordReset</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Controls whether or not a password can be reset. For security reasons, with the <em>ActiveDirectoryMembershipProvider</em>, this attribute can only be set to<strong></strong><em>true</em> if all of the following have been set:<br /><em>requiresQuestionAndAnswer</em> is set to <em>true</em>.<br /><em>passwordQuestion, passwordAnswer, attributeMapFailedPasswordAnswerCount, attributeMapFailedPasswordAnswerTime,</em> and <em>attributeMapFailedPasswordAnswerLockoutTime</em> have been mapped to attributes in the directory.<br /><b>Note</b>: Even if this attribute is set to <em>true</em>, password resets are allowed only if the credentials used to perform the reset have Administrator privileges in Active Directory.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>enableSearchMethods</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Allows an administrator to set whether or not search-oriented methods can be called on the provider instance. Because methods such as <em>Find &#42;</em> and <em>GetAllUsers</em> can be very expensive, the default value for this attribute is <em>false</em>.<br />The following methods throw a <em>NotSupportedException</em> if they are called when this attribute is set to <em>false</em>:<br /><em>FindUsersByName<br />FindUsersByEmail<br />GetAllUsers</em></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>requiresQuestionAnd</b>\r\n            <br />\r\n            <b>Answer</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Determines whether a password question and answer are required for a password reset. <p>For security reasons, with <em>ActiveDirectoryMembership</em><br /><em>Provider</em>, this attribute can only be set to <em>true</em> if all of the following have been set:<br /><em>attributeMapPasswordQuestion, attributeMapPasswordAnswer, attributeMapFailedPasswordAnswerCount, attributeMapFailedPasswordAnswerTime, </em>and <em>attributeMapFailedPasswordAnswerLockoutTime</em></p></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>applicationName</b>\r\n          </td>\r\n          <td>\r\n            <b>/</b>\r\n          </td>\r\n          <td>For this provider, <em>applicationName</em> is included for completeness with other providers. Internally, it does not matter what value is placed here because the application name is not used. The maximum value is 256 characters.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>requiresUniqueEmail</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Specifies whether the e-mail values used in the application must be unique.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>maxInvalidPassword</b>\r\n            <br />\r\n            <b>Attempts</b>\r\n          </td>\r\n          <td>\r\n            <b>5</b>\r\n          </td>\r\n          <td>Indicates the number of failed password attempts or failed password answer attempts allowed before a user's account is locked. When the number of failed attempts equals the value set in this attribute, the user's account is locked out. <p>For the Active Directory provider, this attribute applies only to managing resets that use a password answer. Active Directory manages bad password attempts internally.</p></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordAttempt</b>\r\n            <br />\r\n            <b>Window</b>\r\n          </td>\r\n          <td>\r\n            <b>10</b>\r\n          </td>\r\n          <td>Indicates the time window, in minutes, during which failed password attempts and failed password answer attempts are tracked. <p>For the Active Directory provider, this attribute applies only to managing resets that use a password answer. Active Directory manages bad password attempts internally.</p></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordAnswer<br />AttemptLockout<br />Duration</b>\r\n          </td>\r\n          <td>\r\n            <b>30</b>\r\n          </td>\r\n          <td>Specifies the duration, in minutes, that a lockout due to a bad password answer is considered still in effect. Because Active Directory uses the concept of timing out bad password lockouts, this attribute is necessary to support a similar concept of timing bad password answer attempts.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>minRequiredPassword<br />Length</b>\r\n          </td>\r\n          <td>\r\n            <b>7</b>\r\n          </td>\r\n          <td>Specifies the minimum number of characters required in a password. The value can be from 1 to 128.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>minRequiredNonAlpha<br />numericCharacters</b>\r\n          </td>\r\n          <td>\r\n            <b>1</b>\r\n          </td>\r\n          <td>Specifies the minimum number of non-alphanumeric characters required in a password. This configuration attribute cannot be set to a value greater than the value of the <em>minRequiredPasswordLength</em>. This means the configuration setting must be in the range of <br />0-<em>minRequiredPasswordLength</em>, inclusive of <em>minRequiredPasswordLength</em>.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordStrength<br />RegularExpression</b>\r\n          </td>\r\n          <td>\r\n            <b>\"\"</b>\r\n          </td>\r\n          <td>Provides a valid regular expression that the provider will use as part of password strength validation.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapUsername</b>\r\n          </td>\r\n          <td>\r\n            <b>userPrincipalName</b>\r\n          </td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.<br />The only directory attributes for mapping to a username if you are using Active Directory are <em>userPrincipalName</em> or <em>SAMAccountName</em>. The only allowed directory attributes for mapping to username if you are using ADAM is <em>userPrincipalName</em>.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapEmail</b>\r\n          </td>\r\n          <td>\r\n            <b>Mail</b>\r\n          </td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapPassword<br />Question</b>\r\n          </td>\r\n          <td>UNDEFINED</td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapPassword<br />Answer</b>\r\n          </td>\r\n          <td>UNDEFINED</td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapFailed<br />PasswordAnswerCount</b>\r\n          </td>\r\n          <td>UNDEFINED</td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapFailed<br />PasswordAnswerTime</b>\r\n          </td>\r\n          <td>UNDEFINED</td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>attributeMapFailed<br />PasswordAnswer<br />LockoutTime</b>\r\n          </td>\r\n          <td>UNDEFINED</td>\r\n          <td>Defines the mapping from a property on a <em>MembershipUser</em> object to an attribute within the directory.</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <p />\r\n  <p>When the <em>requiresQuestionAndAnswer</em> attribute is set to <em>true</em>, the <em>ActiveDirectoryMembershipProvider</em> class supports password reset security by requiring the user to answer a predetermined question.</p>\r\n  <p>To support the question and answer, you must set the <em>attributeMapPasswordQuestion</em> and <em>attributeMapPasswordAnswer</em> attributes when you use the &lt;<em>add</em>&gt;<b></b>element to add the <em>ActiveDirectoryMembershipProvider</em> object after the membership &lt;<em>providers</em>&gt; element. </p>\r\n  <h1>SqlMembershipProvider Configuration Attributes</h1>\r\n  <p>Table 2 lists the <em>SqlMembershipProvider</em> configuration attributes, their default values, and notes for their usage.</p>\r\n  <p>\r\n    <b>Table 2. SqlMembershipProvider Configuration Attributes</b>\r\n  </p>\r\n  <div>\r\n    <table>\r\n      <tbody>\r\n        <tr>\r\n          <th>Attribute</th>\r\n          <th>Default Value</th>\r\n          <th>Notes</th>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>connectionStringName</b>\r\n          </td>\r\n          <td>&nbsp;</td>\r\n          <td>Points to a connection string contained in the connection strings configuration section. This attribute is required because it points to the SQL connection string used for connecting to the SQL server database instance.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>enablePasswordReset</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Controls whether or not a password can be reset.<br />For security reasons, with the <em>SqLMembershipProvider</em>, this attribute can only be set to<strong></strong><em>true</em> if all of the following have been set:<br /><em>requiresQuestionAndAnswer</em> set to <em>true</em><br /><em>passwordQuestion<br />passwordAnswer</em></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>requiresQuestionAnd<br />Answer</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Determines whether a password question and answer are required for a password reset.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>applicationName</b>\r\n          </td>\r\n          <td>\r\n            <b>/</b>\r\n          </td>\r\n          <td>Used to group user information. By qualifying user information with an application name, you can store information for multiple applications in a single database without running into conflicts between duplicate user names. Also, multiple ASP.NET applications can use the same user database by specifying the same value in the <em>applicationName</em> attribute. The maximum value allowed is 256 characters.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>requiresUniqueEmail</b>\r\n          </td>\r\n          <td>\r\n            <b>False</b>\r\n          </td>\r\n          <td>Specifies whether the e-mail values used in the application must be unique.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>maxInvalidPassword<br />Attempts</b>\r\n          </td>\r\n          <td>\r\n            <b>5</b>\r\n          </td>\r\n          <td>Indicates the number of failed password attempts or failed password answer attempts allowed before a user's account is locked. When the number of failed attempts equals the value set in this attribute, the user's account is locked out.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordAttempt<br />Window</b>\r\n          </td>\r\n          <td>\r\n            <b>10</b>\r\n          </td>\r\n          <td>Indicates the time window, in minutes, during which failed password attempts and failed password answer attempts are tracked.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordFormat</b>\r\n          </td>\r\n          <td>&nbsp;</td>\r\n          <td>Specifies the password format. The SQL Server membership provider supports <em>Clear</em>, <em>Encrypted</em>, and <em>Hashed</em> password formats. Clear passwords are stored in plain text, which improves the performance of password storage and retrieval, but is less secure because passwords are easily read if your SQL Server database is compromised. Encrypted passwords are encrypted when stored and can be decrypted for password comparison or password retrieval. This requires additional processing for password storage and retrieval, but is more secure because passwords are not easily deciphered if the SQL Server database is compromised. Hashed passwords are hashed using a one-way hash algorithm and a randomly generated salt value when stored in the database. When a password is validated, it is hashed with the salt value in the database for verification. Hashed passwords cannot be retrieved.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordAnswer<br />AttemptLockout<br />Duration</b>\r\n          </td>\r\n          <td>\r\n            <b>30</b>\r\n          </td>\r\n          <td>Specifies the duration, in minutes, that a lockout due to a bad password answer is still in effect.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>minRequiredPassword<br />Length</b>\r\n          </td>\r\n          <td>\r\n            <b>7</b>\r\n          </td>\r\n          <td>Specifies the minimum number of characters required in a password. The value can be from 1 to 128.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>minRequiredNonAlpha<br />numericCharacters</b>\r\n          </td>\r\n          <td>\r\n            <b>1</b>\r\n          </td>\r\n          <td>Specifies the minimum number of non-alphanumeric characters required in a password. This configuration attribute cannot be set to a value greater than the value of the <em>minRequiredPassword</em><br /><em>Length</em>. This means the configuration setting must be in the range of <em>0 - minRequiredPasswordLength</em>, inclusive of <em>minRequiredPasswordLength</em>.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>passwordStrength<br />RegularExpression</b>\r\n          </td>\r\n          <td>\r\n            <b>\"\"</b>\r\n          </td>\r\n          <td>Provides a valid regular expression that the provider will use as part of password strength validation.</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <h1>Membership APIs</h1>\r\n  <p>Table 3 lists some of the more important methods of the <em>Membership</em> class, along with their parameters and usage notes.</p>\r\n  <p>\r\n    <b>Table 3. Membership Class Methods</b>\r\n  </p>\r\n  <div>\r\n    <table>\r\n      <tbody>\r\n        <tr>\r\n          <th>Method</th>\r\n          <th>Parameters</th>\r\n          <th>Notes</th>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>CreateUser</b>\r\n          </td>\r\n          <td>string <i>username</i>-User name to create.<br />string <i>password</i>-Password for new user<br />string <i>email</i>-E-mail for new user.<br />string <i>passwordQuestion</i><br />string <i>passwordAnswer</i><br />bool <i>IsApproved</i><br />object <i>providerUserKey</i></td>\r\n          <td>Used to create a new user.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>DeleteUser</b>\r\n          </td>\r\n          <td>string <i>username</i>-User to delete.<br />bool <i>removeAllRelatedData</i></td>\r\n          <td>Used to immediately remove a user identified by the supplied username. Returns <em>true</em> if the user was deleted or <em>false</em> if not found.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>FindUsersByName</b>\r\n          </td>\r\n          <td>string <i>usernameToMatch</i><br />int<b></b><i>pageIndex</i><b><br /></b>int <i>pageSize</i></td>\r\n          <td>Returns a collection of users where the string parameter passed matches part of the username.<br />Wildcard support depends on how each data store handles characters such as <em>\"&#42;\", \"&#37;\" </em>and <em>\"_\".</em></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>FindUsersByEmail</b>\r\n          </td>\r\n          <td>string <i>emailToMatch</i><br />int <i>pageIndex</i><br />int <i>pageSize</i></td>\r\n          <td>Returns a collection of users whose e-mail addreses matches any part of the string parameter passed.<br />Wildcard support depends on how each data store handles characters such as <em>\"&#42;\", \"&#37;\" </em>and <em>\"_\"</em></td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>GeneratePassword</b>\r\n          </td>\r\n          <td>int <i>length</i><br />Int <i>numberOfNonAlpha<br />NumericCharacters</i></td>\r\n          <td>Returns a password of the specified length that contains the specified number of non-alphanumeric characters.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>GetAllUsers</b>\r\n          </td>\r\n          <td>int <i>pageIndex</i><br />int <i>pageSize</i></td>\r\n          <td>Returns a subset of users from the collection of all users. The subset is based on the <em>pageIndex</em> and <em>pageSize</em> methods.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>GetNumberOfUsersOnline</b>\r\n          </td>\r\n          <td>None</td>\r\n          <td>Returns a count of all the users who are currently online The Active Directory provider does not implement this functionality</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>GetUsernameByEmail</b>\r\n          </td>\r\n          <td>string <i>email</i>-Email of user to lookup.</td>\r\n          <td>Return a member's username.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>UpdateUser</b>\r\n          </td>\r\n          <td>\r\n            <b>MembershipUser</b>\r\n            <i>user</i>-Membership user to update</td>\r\n          <td>Updates a member's properties; for example, an e-mail address.</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <b>ValidateUser</b>\r\n          </td>\r\n          <td>string <i>username</i>-User name to validate.<br />string <i>password</i>-User password to validate.</td>\r\n          <td>Validates a user's credentials. Returns <em>true</em> if the credentials are valid and <em>false</em> if they are not. <br />With Active Directory, regardless of the configured connection credentials, the provider connects to the directory with the username and password parameter as the connection credentials. </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <p />\r\n  <h1>Additional Considerations</h1>\r\n  <p>Forms authentication requires the user to enter a username and password into a Web page, which is then transmitted in plaintext (by default) over the network. To prevent these credentials from being stolen, you should install a server certificate on your Web server and configure your Web site to require SSL.</p>\r\n  <p>To ensure that forms authentication tickets may only be transmitted over SSL-secured channels, set the <em>requireSSL</em> attribute of the &lt;<em>forms</em>&gt; element to <em>true</em>. The following code sample shows how to do this, and also demonstrates how to ensure that your users access the login page by using SSL, whether or not they entered the URL of your application's main page using HTTP:// or HTTPS://. To verify that SSL is used, you can enter a full URL to the login page in the <em>loginUrl</em> attribute, but if you do this, you must configure unrestricted access to the login page by using the configuration shown inside the &lt;<em>location</em>&gt; tag.</p>\r\n  <div>\r\n    <pre>&lt;configuration&gt;<br />&nbsp; &lt;system.web&gt;<br />&nbsp;&nbsp;&nbsp; &lt;authentication mode=\"Forms\"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;forms loginUrl=\"https://myserver/mywebapp/secure/Login.aspx\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protection=\"All\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; timeout=\"30\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=\"AppNameCookie\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path=\"/FormsAuth\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requireSSL=\"true\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slidingExpiration=\"true\" <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultUrl=\"default.aspx\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cookieless=\"UseCookies\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableCrossAppRedirects=\"false\"/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/authentication&gt;<br />&nbsp;&nbsp;&nbsp; &lt;&#33;-- Deny access to unauthenticated users --&gt;<br />&nbsp;&nbsp;&nbsp; &lt;authorization&gt; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;deny users=\"?\" /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;allow users=\"&#42;\" /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;/authorization&gt;<br />&nbsp; &lt;/system.web&gt;<br />&lt;/configuration&gt;<br />&lt;&#33;-- Allow unrestricted access to the folder with the login page --&gt;<br />&lt;location path=\"secure\"&gt;<br />&nbsp; &lt;system.web&gt;<br />&nbsp;&nbsp;&nbsp; &lt;authorization&gt; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;allow users=\"&#42;\" /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;/authorization&gt;<br />&nbsp; &lt;/system.web&gt;<br />&lt;/location&gt;</pre>\r\n  </div>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
        ]
      }
    ]
  }
}