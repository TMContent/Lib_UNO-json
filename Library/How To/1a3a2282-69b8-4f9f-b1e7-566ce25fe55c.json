{
  "TeamMentor_Article": {
    "$": {
      "Metadata_Hash": "-1322066032",
      "Content_Hash": "107252338"
    },
    "Metadata": [
      {
        "Id": [
          "1a3a2282-69b8-4f9f-b1e7-566ce25fe55c"
        ],
        "Id_History": [
          "1a3a2282-69b8-4f9f-b1e7-566ce25fe55c,859e4fb7-dbfd-45b9-a6e7-87ea10e883e5,"
        ],
        "Library_Id": [
          "be5273b1-d682-4361-99d9-6234f2d47eb7"
        ],
        "Title": [
          "How to Publish Service Metadata for Your Clients"
        ],
        "Category": [
          "Communication Security"
        ],
        "Phase": [
          "Implementation"
        ],
        "Technology": [
          "WCF 3.5"
        ],
        "Type": [
          "How To"
        ],
        "DirectLink": [
          "How to Publish Service Metadata for Your Clients"
        ],
        "Tag": [
          "WCF 3.5"
        ],
        "Security_Demand": [
          ""
        ],
        "Author": [
          ""
        ],
        "Priority": [
          "J.D. Meier, Jason Taylor, Prashant Bansode, Carlos Farre, Madhu Sundararajan, Rob Boucher, Steve Gregersen"
        ],
        "Status": [
          ""
        ],
        "Source": [
          "SI"
        ]
      }
    ],
    "Content": [
      {
        "$": {
          "Sanitized": "true",
          "DataType": "Html"
        },
        "Data": [
          "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>Microsoft® Windows Communication Foundation (WCF) 3.5 \r\n<li>Microsoft Visual Studio® 2008</li></li>\r\n  </ul>\r\n  <h1>Description</h1>\r\n  <p>To publish service metadata for your clients:</p>\r\n  <ol>\r\n    <li>If your service uses HTTP binding you will need to enable metadata via http get or https get. HTTP get will be required if you are not using transport security. HTTPS get will be required if you are using transport security. The trade off with this configuration is that clients will be able to browse your service metadata with browser.\r\n<ol><pre>&lt;serviceMetadata httpsGetEnabled=\"true\" /&gt;<br />&lt;serviceMetadata httpGetEnabled=\"true\"  /&gt;</pre></ol><li>If your service uses HTTP binding you can use a mex endpoint without enabling http get or https get. In this case Browsers will not be able to browse metadata while the clients will be able to create proxies using the mex endpoint. The tradeoff with this configuration is that mexendpoints are not possible if IIS does not have anonymous authentication enabled.\r\n<ol><pre>&lt;system.serviceModel&gt;<br />    &lt;services&gt;<br />      &lt;service behaviorConfiguration=\"\" name=\"Service\"&gt;<br />        &lt;endpoint address=\"\" binding=\"wsHttpBinding\" bindingConfiguration=\"\"<br />          name=\"WsBinding\" contract=\"IService\" /&gt;<br />        &lt;endpoint address=\"mex\" binding=\"mexHttpBinding\" bindingConfiguration=\"\"<br />          name=\"mexendpoint\" contract=\"IMetadataExchange\" /&gt;<br />      &lt;/service&gt;<br />    &lt;/services&gt;<br />   …. <br />  &lt;/system.serviceModel&gt;</pre></ol><li>If your service uses HTTP binding you can use a custom endpoint that implements IMetadataExchange without enabling http get or https get. In this case Browsers will not be able to browse metadata while will be able to create proxies using the mex endpoint. Additionally you will be able to use the mex endpoint with any authentication scheme\r\n<ol><pre>  &lt;services&gt;<br />    &lt;service behaviorConfiguration=\"returnFaults\" name=\"MyService\"&gt;<br />      &lt;endpoint binding=\"wsHttpBinding\" bindingConfiguration=\"\"<br />        name=\"wsHttpEndpoint\" contract=\"IService\" /&gt;<br />      &lt;endpoint address=\"mex\" binding=\"wsHttpMexBinding\" <br />        bindingConfiguration=\"\"<br />        name=\"mexEndpoint\" contract=\"IMetadataExchange\" /&gt;<br />    &lt;/service&gt;<br />  &lt;/services&gt;<br />…</pre></ol><li>If your service does not use HTTP binding, you will need to configure a service metadata and create a mex endpoint\r\n<ol><pre>&lt;system.serviceModel&gt;<br />    &lt;behaviors&gt;<br />      &lt;serviceBehaviors&gt;<br />        &lt;behavior name=\"BehaviorConfiguration\"&gt;<br />          &lt;serviceDebug includeExceptionDetailInFaults=\"true\" /&gt;<br />          &lt;serviceMetadata /&gt;<br />        &lt;/behavior&gt;<br />      &lt;/serviceBehaviors&gt;<br />    &lt;/behaviors&gt;<br />    ….<br />    &lt;services&gt;<br />      &lt;service behaviorConfiguration=\"BehaviorConfiguration\" name=\"WCFServicecHost.MyService\"&gt;<br />        &lt;endpoint address=\"Mex\" binding=\"mexTcpBinding\" bindingConfiguration=\"\"<br />          name=\"MexEndpoint\" contract=\"IMetadataExchange\" /&gt;<br />        &lt;endpoint address=\"\" binding=\"netTcpBinding\" bindingConfiguration=\"BindingConfiguration\"<br />          name=\"TcpBinding\" contract=\"WCFServicecHost.IMyService\" /&gt; <br />      &lt;/service&gt;<br />    &lt;/services&gt;<br /> &lt;/system.serviceModel&gt;</pre></ol></li></li></li></li>\r\n  </ol>\r\n  <h1>Additional Resources</h1>\r\n  <ul>\r\n    <li>For more information see “How to: Secure Metadata Endpoints “ at <a href=\"http://msdn.microsoft.com/en-us/library/ms733114.aspx\">http://msdn.microsoft.com/en-us/library/ms733114.aspx</a></li>\r\n  </ul>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
        ]
      }
    ]
  }
}