{
  "id": "193ac059-7048-440f-91d9-3312ae698c07",
  "checksum": "5d7e7169aadeda5790ed7913d15db37adb722bb1",
  "words": {
    "1024": [
      "p"
    ],
    "1991": [
      "p"
    ],
    "applies": [
      "h2"
    ],
    "to": [
      "h2",
      "h2",
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "strong",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "title"
    ],
    "android": [
      "ul",
      "li"
    ],
    "applications": [
      "ul",
      "li",
      "p",
      "p",
      "p",
      "ol",
      "li",
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "that": [
      "ul",
      "li",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "strong",
      "p",
      "p"
    ],
    "communicate": [
      "ul",
      "li",
      "title"
    ],
    "with": [
      "ul",
      "li",
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "p",
      "title"
    ],
    "external": [
      "ul",
      "li",
      "p",
      "ol",
      "li"
    ],
    "services": [
      "ul",
      "li",
      "p"
    ],
    "what": [
      "h2"
    ],
    "do": [
      "h2"
    ],
    "the": [
      "p",
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "strong",
      "strong",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "strong",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "messenger": [
      "p",
      "p",
      "em",
      "em",
      "p",
      "em",
      "p",
      "em",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "em",
      "em",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "em",
      "li",
      "strong",
      "p",
      "em",
      "pre",
      "pre",
      "pre",
      "title"
    ],
    "service": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "is": [
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p"
    ],
    "used": [
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong"
    ],
    "for": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "strong",
      "p",
      "p",
      "p",
      "p"
    ],
    "inter-process": [
      "p",
      "p",
      "p",
      "p"
    ],
    "communications": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "ipc)": [
      "p"
    ],
    "between": [
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "processes": [
      "p",
      "p",
      "ol",
      "li",
      "p",
      "title"
    ],
    "of": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "li",
      "li",
      "strong"
    ],
    "different": [
      "p",
      "p"
    ],
    "use": [
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "title"
    ],
    "a": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "strong",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "title"
    ],
    "when": [
      "p",
      "h2",
      "p"
    ],
    "you": [
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "want": [
      "p",
      "p"
    ],
    "make": [
      "p"
    ],
    "securely": [
      "p"
    ],
    "accessible": [
      "p"
    ],
    "why": [
      "h2"
    ],
    "can": [
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "p"
    ],
    "cause": [
      "p"
    ],
    "data": [
      "p",
      "ol",
      "li",
      "p",
      "p"
    ],
    "leakage": [
      "p"
    ],
    "if": [
      "p",
      "ol",
      "li"
    ],
    "not": [
      "p"
    ],
    "done": [
      "p"
    ],
    "properly": [
      "p"
    ],
    "provides": [
      "p"
    ],
    "developers": [
      "p"
    ],
    "secure": [
      "p",
      "p"
    ],
    "means": [
      "p"
    ],
    "class": [
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "strong",
      "pre",
      "p"
    ],
    "are": [
      "p",
      "p",
      "p"
    ],
    "required": [
      "p"
    ],
    "how": [
      "h2",
      "ol",
      "ol",
      "li",
      "li"
    ],
    "ipc": [
      "p"
    ],
    "create": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "strong",
      "p",
      "p"
    ],
    "an": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "strong",
      "li",
      "li",
      "strong",
      "p",
      "p",
      "p"
    ],
    "instance": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "strong",
      "p",
      "title"
    ],
    "incominghandler": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "strong",
      "em",
      "em",
      "li",
      "em",
      "li",
      "li",
      "strong",
      "em",
      "li",
      "em",
      "p",
      "em",
      "pre",
      "pre"
    ],
    "extends": [
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "pre"
    ],
    "handler": [
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "em",
      "li",
      "li",
      "strong",
      "pre"
    ],
    "in": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "p",
      "p"
    ],
    "will": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "p",
      "p",
      "p",
      "p"
    ],
    "be": [
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "p"
    ],
    "accessed": [
      "ol",
      "li",
      "p"
    ],
    "from": [
      "ol",
      "li",
      "p",
      "p"
    ],
    "other": [
      "ol",
      "li",
      "p"
    ],
    "application": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p"
    ],
    "this": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p"
    ],
    "manage": [
      "ol",
      "li"
    ],
    "inbound": [
      "ol",
      "ol",
      "li",
      "li",
      "p"
    ],
    "binding": [
      "ol",
      "li"
    ],
    "requests": [
      "ol",
      "li"
    ],
    "two": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "instances": [
      "ol",
      "li",
      "p"
    ],
    "one": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "has": [
      "ol",
      "li"
    ],
    "constructor": [
      "ol",
      "li"
    ],
    "and": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "strong",
      "li",
      "strong",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "another": [
      "ol",
      "li"
    ],
    "client": [
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p"
    ],
    "left": [
      "ol",
      "li"
    ],
    "null": [
      "ol",
      "li",
      "pre"
    ],
    "now": [
      "ol",
      "li",
      "p",
      "p"
    ],
    "override": [
      "ol",
      "ol",
      "li",
      "li",
      "strong"
    ],
    "onbind)": [
      "ol",
      "li",
      "strong",
      "em"
    ],
    "method": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p"
    ],
    "return": [
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "p"
    ],
    "also": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "onunbind)": [
      "ol",
      "li",
      "em"
    ],
    "false.": [
      "ol",
      "li"
    ],
    "define": [
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li"
    ],
    "interaction": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "work": [
      "ol",
      "li",
      "p"
    ],
    "handlemessage)": [
      "ol",
      "ol",
      "li",
      "em",
      "li",
      "em",
      "p",
      "em"
    ],
    "logic": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "here": [
      "ol",
      "li"
    ],
    "sending": [
      "ol",
      "li",
      "p"
    ],
    "responses": [
      "ol",
      "li"
    ],
    "incomingreplyto": [
      "ol",
      "li",
      "em"
    ],
    "field": [
      "ol",
      "li"
    ],
    "retrieve": [
      "ol",
      "li"
    ],
    "messages": [
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "strong",
      "strong",
      "p"
    ],
    "incominggetdata()": [
      "ol",
      "li",
      "em"
    ],
    "quicker": [
      "ol",
      "li"
    ],
    "performance": [
      "ol",
      "li"
    ],
    "incomingarg1": [
      "ol",
      "li",
      "em"
    ],
    "arg2": [
      "ol",
      "li",
      "em"
    ],
    "fields": [
      "ol",
      "li"
    ],
    "incomingwhat": [
      "ol",
      "li",
      "em"
    ],
    "useful": [
      "ol",
      "li"
    ],
    "switch": [
      "ol",
      "li"
    ],
    "statement": [
      "ol",
      "li"
    ],
    "handlemessage": [
      "ol",
      "li",
      "em",
      "p",
      "em"
    ],
    "activities": [
      "ol",
      "li",
      "p"
    ],
    "it": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "identify": [
      "ol",
      "li"
    ],
    "type": [
      "ol",
      "li"
    ],
    "request": [
      "ol",
      "li"
    ],
    "being": [
      "ol",
      "li"
    ],
    "sent": [
      "ol",
      "li"
    ],
    "send": [
      "ol",
      "ol",
      "li",
      "li"
    ],
    "back": [
      "ol",
      "li",
      "p"
    ],
    "message": [
      "ol",
      "ol",
      "li",
      "em",
      "li",
      "em",
      "p",
      "em"
    ],
    "object": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p"
    ],
    "reference": [
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "p",
      "p"
    ],
    "set": [
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "p",
      "p"
    ],
    "above": [
      "ol",
      "li"
    ],
    "activity": [
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p"
    ],
    "incoming": [
      "ol",
      "ol",
      "li",
      "li",
      "strong",
      "p",
      "pre"
    ],
    "normal": [
      "ol",
      "ol",
      "li",
      "li",
      "strong"
    ],
    "outgoing": [
      "ol",
      "ol",
      "li",
      "li",
      "strong"
    ],
    "accessing": [
      "ol",
      "li"
    ],
    "instances—one": [
      "ol",
      "li"
    ],
    "implements": [
      "ol",
      "li",
      "strong"
    ],
    "serviceconnection": [
      "ol",
      "li",
      "strong"
    ],
    "call": [
      "ol",
      "li"
    ],
    "bindservice)": [
      "ol",
      "li",
      "em"
    ],
    "connect": [
      "ol",
      "li"
    ],
    "returns": [
      "ol",
      "li"
    ],
    "true": [
      "ol",
      "li",
      "em"
    ],
    "begin": [
      "ol",
      "li"
    ],
    "communicating": [
      "ol",
      "li"
    ],
    "through": [
      "ol",
      "li",
      "p",
      "p",
      "p"
    ],
    "contains": [
      "ol",
      "li",
      "p"
    ],
    "on": [
      "ol",
      "li",
      "p"
    ],
    "interpret": [
      "ol",
      "li"
    ],
    "service’s": [
      "ol",
      "li"
    ],
    "response.": [
      "ol",
      "li"
    ],
    "false": [
      "em"
    ],
    "problem": [
      "h2"
    ],
    "example": [
      "h2",
      "h2"
    ],
    "as": [
      "p",
      "p",
      "p",
      "p"
    ],
    "myapp": [
      "p",
      "p"
    ],
    "developer": [
      "p",
      "p"
    ],
    "any": [
      "p"
    ],
    "able": [
      "p"
    ],
    "access": [
      "p",
      "p"
    ],
    "news-feed": [
      "p",
      "p"
    ],
    "experienced": [
      "p"
    ],
    "client–server": [
      "p"
    ],
    "java": [
      "p"
    ],
    "opt": [
      "p"
    ],
    "open": [
      "p",
      "p"
    ],
    "socket": [
      "p",
      "p"
    ],
    "accept": [
      "p"
    ],
    "connections": [
      "p"
    ],
    "port": [
      "p",
      "p"
    ],
    "below": [
      "p"
    ],
    "unavailable": [
      "p"
    ],
    "linux": [
      "p"
    ],
    "without": [
      "p"
    ],
    "superuser": [
      "p"
    ],
    "rights": [
      "p"
    ],
    "process": [
      "p"
    ],
    "tcp": [
      "p"
    ],
    "standard": [
      "p"
    ],
    "program": [
      "p"
    ],
    "serversocket": [
      "pre"
    ],
    "tcpserversocket": [
      "pre",
      "pre"
    ],
    "=": [
      "pre",
      "pre",
      "pre",
      "pre",
      "pre",
      "pre",
      "pre",
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "null\nsocket": [
      "pre"
    ],
    "tcpclientsocket": [
      "pre",
      "pre"
    ],
    "null\n\nwhile": [
      "pre"
    ],
    "true)": [
      "pre"
    ],
    "{": [
      "pre"
    ],
    "new": [
      "pre",
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "serversocketport);": [
      "pre"
    ],
    "tcpserversocketaccept();": [
      "pre"
    ],
    "comthreadtcpclientsocket).start();\n}": [
      "pre"
    ],
    "prepared": [
      "p"
    ],
    "serialized": [
      "p"
    ],
    "exchange": [
      "p",
      "p"
    ],
    "although": [
      "p"
    ],
    "practice": [
      "p"
    ],
    "have": [
      "p",
      "p"
    ],
    "opened": [
      "p"
    ],
    "unnecessary": [
      "p"
    ],
    "network": [
      "p"
    ],
    "point": [
      "p"
    ],
    "potentially": [
      "p"
    ],
    "compromised": [
      "p"
    ],
    "confidentiality": [
      "p"
    ],
    "made": [
      "p"
    ],
    "things": [
      "p"
    ],
    "much": [
      "p"
    ],
    "more": [
      "p"
    ],
    "difficult": [
      "p"
    ],
    "solution": [
      "h2"
    ],
    "instead": [
      "p"
    ],
    "could": [
      "p"
    ],
    "up": [
      "p"
    ],
    "communication": [
      "p"
    ],
    "channel": [
      "p"
    ],
    "start": [
      "p"
    ],
    "by": [
      "p",
      "p"
    ],
    "defining": [
      "p"
    ],
    "ihandler": [
      "pre"
    ],
    "incominghandler);\n\nfinal": [
      "pre"
    ],
    "messengertoservice": [
      "pre"
    ],
    "ihandler);\nprivate": [
      "pre"
    ],
    "static": [
      "pre"
    ],
    "messengertoclient": [
      "pre"
    ],
    "onbind):": [
      "p"
    ],
    "public": [
      "pre"
    ],
    "ibinder": [
      "pre"
    ],
    "onbind": [
      "pre"
    ],
    "intent": [
      "pre",
      "pre"
    ],
    "{\treturn": [
      "pre"
    ],
    "messengertoservicegetbinder();\n}": [
      "pre"
    ],
    "incominghandler’s": [
      "p",
      "em"
    ],
    "getdata)": [
      "p",
      "em"
    ],
    "information": [
      "p"
    ],
    "{@override\n\tpublic": [
      "pre"
    ],
    "void": [
      "pre"
    ],
    "handlemessagemessage": [
      "pre"
    ],
    "{\tmessengertoclient": [
      "pre"
    ],
    "incomingreplyto;\n\tbundle": [
      "pre"
    ],
    "bun": [
      "pre"
    ],
    "incominggetdata();\n\t}\n}": [
      "pre"
    ],
    "easily": [
      "p"
    ],
    "accomplished": [
      "p"
    ],
    "using": [
      "p"
    ],
    "bundle": [
      "p",
      "pre"
    ],
    "within": [
      "p",
      "p"
    ],
    "reply": [
      "p",
      "pre"
    ],
    "bundle);\n\treply.putint(1,": [
      "pre"
    ],
    "“response”;\n\tmessage": [
      "pre"
    ],
    "replymsg": [
      "pre"
    ],
    "messageobtain();\n\treplymsg.setdata(reply);": [
      "pre"
    ],
    "ready": [
      "p"
    ],
    "long": [
      "p"
    ],
    "they": [
      "p"
    ],
    "bind": [
      "p"
    ],
    "correctly": [
      "p"
    ],
    "understand": [
      "p"
    ],
    "underlying": [
      "p"
    ],
    "programming": [
      "p"
    ],
    "interface": [
      "p"
    ],
    "proceed": [
      "p"
    ],
    "remote": [
      "title"
    ]
  },
  "tags": {
    "h2": [
      "Applies To",
      "What to Do",
      "Why",
      "When",
      "How",
      "Problem Example",
      "Solution Example"
    ],
    "ul": [
      "Android applications that communicate with external services."
    ],
    "li": [
      "Android applications that communicate with external services.",
      "Create an instance of an IncomingHandler class that extends the Handler. In the service that will be accessed from other application processes, create an instance of an IncomingHandler class that extends the Handler. This class is used to manage inbound binding requests. Create two instances of Messenger: one for the service messenger that has the IncomingHandler instance used in the constructor and another that is the client Messenger and is left null for now.",
      "Override the onBind() method and return the instance of the service messenger. (You can also override the onUnbind() method and return False). Define how the interaction with external applications will work in the handleMessage() method of the IncomingHandler instance. This is the logic of the interaction. Here, you will also define the client messenger for sending responses with the incoming.replyTo field. To retrieve inbound messages, use the incoming.getData() method. For quicker performance, use the incoming.arg1 and arg2 fields. Incoming.what is useful for a switch statement in the handleMessage method. Activities can use it to identify the type of request being sent. To send messages back to the application, create a Message object and use the client messenger reference set above to send the activity data.",
      "Create an IncomingHandler for incoming messages and a normal handler for outgoing messages. In the activity accessing the service, create an IncomingHandler for incoming messages and a normal handler for outgoing messages. Create two Messenger instances—one for the activity, one for the service.",
      "Create a class that implements ServiceConnection and will be used to set the reference to the service Messenger. Define a method that will call the bindService() method to connect to the service. (If it returns True, the activity can begin communicating with the service through the Message object. The IncomingHandler handleMessage() method contains the logic on how to interpret the service’s response)."
    ],
    "p": [
      "The Messenger service is used for inter-process communications (IPC) between the processes of different applications. Use a Messenger when you want to make services securely accessible to external applications.",
      "Inter-process communications can cause data leakage if not done properly. The Messenger service provides developers with a secure means of communications between processes.",
      "Use the Messenger class when inter-process communications are required between different applications.",
      "To use Messenger for IPC:",
      "As the MyApp developer, you want any application to be able to access a news-feed service. As an experienced client–server Java developer, you opt to open a socket that will accept connections from other applications. You create a method that will open port 1991 (port 1024 and below are unavailable on Linux without superuser rights) and process inbound TCP communications. This is a standard socket program.",
      "You are now prepared to create a serialized object exchange with client applications. Although this will work in practice, you have opened an unnecessary network access point, potentially compromised data confidentiality, and have made things much more difficult for client applications.",
      "Instead, you could set up an inter-process communication channel for client applications.",
      "In the news-feed service, start by defining the IncomingHandler and Messenger instances:",
      "The service will return the service reference for the activity through onBind():",
      "The IncomingHandler’s handleMessage() method processes the exchange between activities. The incoming object is accessed through the getData() method and contains information from the activity:",
      "Sending messages back to the activity is easily accomplished through a reference to the Message class and by using a bundle instance to set data within the reply:",
      "The service is now ready for client applications. As long as they bind correctly and understand the underlying application programming interface within the MyApp handleMessage method, secure communications can proceed between the activity and service."
    ],
    "em": [
      "Messenger",
      "Messenger",
      "Messenger",
      "Messenger",
      "IncomingHandler",
      "Handler",
      "Messenger",
      "IncomingHandler",
      "Messenger",
      "onUnbind()",
      "False",
      "handleMessage()",
      "IncomingHandler",
      "incoming.replyTo",
      "incoming.getData()",
      "incoming.arg1",
      "arg2",
      "Incoming.what",
      "handleMessage",
      "Message",
      "IncomingHandler",
      "Messenger",
      "bindService()",
      "True",
      "Message",
      "IncomingHandler handleMessage()",
      "IncomingHandler",
      "Messenger",
      "onBind()",
      "IncomingHandler’s handleMessage()",
      "getData()",
      "Message",
      "handleMessage"
    ],
    "ol": [
      "Create an instance of an IncomingHandler class that extends the Handler. In the service that will be accessed from other application processes, create an instance of an IncomingHandler class that extends the Handler. This class is used to manage inbound binding requests. Create two instances of Messenger: one for the service messenger that has the IncomingHandler instance used in the constructor and another that is the client Messenger and is left null for now.\n Override the onBind() method and return the instance of the service messenger. (You can also override the onUnbind() method and return False). Define how the interaction with external applications will work in the handleMessage() method of the IncomingHandler instance. This is the logic of the interaction. Here, you will also define the client messenger for sending responses with the incoming.replyTo field. To retrieve inbound messages, use the incoming.getData() method. For quicker performance, use the incoming.arg1 and arg2 fields. Incoming.what is useful for a switch statement in the handleMessage method. Activities can use it to identify the type of request being sent. To send messages back to the application, create a Message object and use the client messenger reference set above to send the activity data.\n Create an IncomingHandler for incoming messages and a normal handler for outgoing messages. In the activity accessing the service, create an IncomingHandler for incoming messages and a normal handler for outgoing messages. Create two Messenger instances—one for the activity, one for the service.\n Create a class that implements ServiceConnection and will be used to set the reference to the service Messenger. Define a method that will call the bindService() method to connect to the service. (If it returns True, the activity can begin communicating with the service through the Message object. The IncomingHandler handleMessage() method contains the logic on how to interpret the service’s response)."
    ],
    "strong": [
      "Create an instance of an IncomingHandler class that extends the Handler.",
      "Override the onBind() method and return the instance of the service messenger.",
      "Create an IncomingHandler for incoming messages and a normal handler for outgoing messages.",
      "Create a class that implements ServiceConnection and will be used to set the reference to the service Messenger."
    ],
    "pre": [
      "ServerSocket tcpServerSocket = null;\nSocket tcpClientSocket = null;\n\nwhile (true) {\n  \ttcpServerSocket = new ServerSocket(port);\t\n  \ttcpClientSocket = tcpServerSocket.accept();\n  \tnew ComThread(tcpClientSocket).start();\n}",
      "IncomingHandler iHandler = new IncomingHandler();\n\nfinal Messenger messengerToService = new Messenger (iHandler);\nprivate static Messenger messengerToClient = null;",
      "public IBinder onBind (Intent intent) {\n\treturn messengerToService.getBinder();\n}",
      "class IncomingHandler extends Handler {\n@Override\n\tpublic void handleMessage(Message incoming) {\n\tmessengerToClient = incoming.replyTo;\n\tBundle bun = incoming.getData();\n\t}\n}",
      "Bundle reply = new Bundle();\n\treply.putInt(1, “Response”);\n\tMessage replyMsg = Message.obtain();\n\treplyMsg.setData(reply);"
    ]
  },
  "links": [],
  "html": "<h2>Applies To</h2><ul><li> Android applications that communicate with external services.</li>\n</ul><h2>What to Do</h2><p>The <em>Messenger</em> service is used for inter-process communications (IPC) between the processes of different applications. Use a <em>Messenger</em> when you want to make services securely accessible to external applications.\n</p><h2>Why</h2><p>Inter-process communications can cause data leakage if not done properly. The <em>Messenger</em> service provides developers with a secure means of communications between processes.\n</p><h2>When</h2><p>Use the <em>Messenger</em> class when inter-process communications are required between different applications.\n</p><h2>How</h2><p>To use Messenger for IPC:\n</p><ol>\n<li> <strong>Create an instance of an IncomingHandler class that extends the Handler.</strong> In the service that will be accessed from other application processes, create an instance of an <em>IncomingHandler</em> class that extends the <em>Handler</em>. This class is used to manage inbound binding requests. Create two instances of <em>Messenger</em>: one for the service messenger that has the <em>IncomingHandler</em> instance used in the constructor and another that is the client <em>Messenger</em> and is left null for now.</li>\n<li> <strong>Override the onBind() method and return the instance of the service messenger.</strong> (You can also override the <em>onUnbind()</em> method and return <em>False</em>). Define how the interaction with external applications will work in the <em>handleMessage()</em> method of the <em>IncomingHandler</em> instance. This is the logic of the interaction. Here, you will also define the client messenger for sending responses with the <em>incoming.replyTo</em> field. To retrieve inbound messages, use the <em>incoming.getData()</em> method. For quicker performance, use the <em>incoming.arg1</em> and <em>arg2</em> fields. <em>Incoming.what</em> is useful for a switch statement in the <em>handleMessage</em> method. Activities can use it to identify the type of request being sent. To send messages back to the application, create a <em>Message</em> object and use the client messenger reference set above to send the activity data.</li>\n<li> <strong>Create an IncomingHandler for incoming messages and a normal handler for outgoing messages.</strong> In the activity accessing the service, create an <em>IncomingHandler</em> for incoming messages and a normal handler for outgoing messages. Create two <em>Messenger</em> instances—one for the activity, one for the service.</li>\n<li> <strong>Create a class that implements ServiceConnection and will be used to set the reference to the service Messenger.</strong> Define a method that will call the <em>bindService()</em> method to connect to the service. (If it returns <em>True</em>, the activity can begin communicating with the service through the <em>Message</em> object. The <em>IncomingHandler handleMessage()</em> method contains the logic on how to interpret the service’s response).</li>\n</ol><h2>Problem Example</h2><p>As the MyApp developer, you want any application to be able to access a news-feed service. As an experienced client–server Java developer, you opt to open a socket that will accept connections from other applications. You create a method that will open port 1991 (port 1024 and below are unavailable on Linux without superuser rights) and process inbound TCP communications. This is a standard socket program.\n</p><pre>ServerSocket tcpServerSocket = null;\nSocket tcpClientSocket = null;\n\nwhile (true) {\n  \ttcpServerSocket = new ServerSocket(port);\t\n  \ttcpClientSocket = tcpServerSocket.accept();\n  \tnew ComThread(tcpClientSocket).start();\n}\n</pre><p>\nYou are now prepared to create a serialized object exchange with client applications. Although this will work in practice, you have opened an unnecessary network access point, potentially compromised data confidentiality, and have made things much more difficult for client applications.\n</p><h2>Solution Example</h2><p>Instead, you could set up an inter-process communication channel for client applications. \n</p><p>\nIn the news-feed service, start by defining the <em>IncomingHandler</em> and <em>Messenger</em> instances:\n</p><pre>IncomingHandler iHandler = new IncomingHandler();\n\nfinal Messenger messengerToService = new Messenger (iHandler);\nprivate static Messenger messengerToClient = null;\n</pre><p>\nThe service will return the service reference for the activity through <em>onBind()</em>:\n</p><pre>public IBinder onBind (Intent intent) {\n\treturn messengerToService.getBinder();\n}\n</pre><p>\nThe <em>IncomingHandler’s handleMessage()</em> method processes the exchange between activities. The incoming object is accessed through the <em>getData()</em> method and contains information from the activity:\n</p><pre>class IncomingHandler extends Handler {\n@Override\n\tpublic void handleMessage(Message incoming) {\n\tmessengerToClient = incoming.replyTo;\n\tBundle bun = incoming.getData();\n\t}\n}\n</pre><p>\nSending messages back to the activity is easily accomplished through a reference to the <em>Message</em> class and by using a bundle instance to set data within the reply:\n</p><pre>\tBundle reply = new Bundle();\n\treply.putInt(1, “Response”);\n\tMessage replyMsg = Message.obtain();\n\treplyMsg.setData(reply);\n</pre><p>\nThe service is now ready for client applications. As long as they bind correctly and understand the underlying application programming interface within the MyApp <em>handleMessage</em> method, secure communications can proceed between the activity and service.\n</p>"
}