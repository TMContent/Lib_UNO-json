{
  "id": "6ba77469-94e7-49e7-bb39-46d67e49d5cb",
  "checksum": "3b61c2b7cbdb88045a9a784a305d34238dd91cd7",
  "words": {
    "35": [
      "ul",
      "li",
      "ul",
      "li"
    ],
    "2008": [
      "ul",
      "li"
    ],
    "applies": [
      "h1"
    ],
    "to": [
      "h1",
      "h1",
      "p",
      "p",
      "p",
      "p",
      "title",
      "title"
    ],
    "microsoft®": [
      "ul",
      "li"
    ],
    "windows": [
      "ul",
      "li"
    ],
    "communication": [
      "ul",
      "li"
    ],
    "foundation": [
      "ul",
      "li"
    ],
    "wcf)": [
      "ul",
      "li"
    ],
    "microsoft": [
      "ul",
      "li",
      "p"
    ],
    "visual": [
      "ul",
      "li"
    ],
    "studio®": [
      "ul",
      "li"
    ],
    "what": [
      "h1"
    ],
    "do": [
      "h1",
      "p"
    ],
    "when": [
      "p",
      "title"
    ],
    "using": [
      "p",
      "p",
      "pre"
    ],
    "programmatic": [
      "p"
    ],
    "impersonation": [
      "p",
      "p",
      "ul",
      "ul",
      "li",
      "li"
    ],
    "revert": [
      "p",
      "p",
      "p",
      "title"
    ],
    "the": [
      "p",
      "p",
      "p",
      "pre",
      "ul",
      "li"
    ],
    "original": [
      "p",
      "pre",
      "title"
    ],
    "security": [
      "p"
    ],
    "context": [
      "p",
      "title"
    ],
    "as": [
      "p",
      "p",
      "p"
    ],
    "soon": [
      "p"
    ],
    "possible": [
      "p"
    ],
    "why": [
      "h1"
    ],
    "if": [
      "p"
    ],
    "you": [
      "p",
      "pre"
    ],
    "not": [
      "p"
    ],
    "remember": [
      "p"
    ],
    "your": [
      "p"
    ],
    "application’s": [
      "p"
    ],
    "attack": [
      "p"
    ],
    "surface": [
      "p"
    ],
    "will": [
      "p",
      "p"
    ],
    "be": [
      "p",
      "p",
      "title"
    ],
    "increased": [
      "p"
    ],
    "it": [
      "p"
    ],
    "running": [
      "p"
    ],
    "under": [
      "p"
    ],
    "higher": [
      "p"
    ],
    "privileges": [
      "p"
    ],
    "than": [
      "p"
    ],
    "necessary": [
      "p"
    ],
    "use": [
      "p"
    ],
    "statement": [
      "p"
    ],
    "automatically": [
      "p"
    ],
    "how": [
      "h1",
      "p"
    ],
    "following": [
      "p"
    ],
    "code": [
      "p"
    ],
    "snippet": [
      "p"
    ],
    "shows": [
      "p"
    ],
    "impersonate": [
      "p"
    ],
    "programmatically": [
      "p",
      "title"
    ],
    "public": [
      "pre"
    ],
    "string": [
      "pre"
    ],
    "getdataint": [
      "pre"
    ],
    "value{": [
      "pre"
    ],
    "servicesecuritycontext.current.windowsidentity.impersonate())": [
      "pre"
    ],
    "{": [
      "pre"
    ],
    "//": [
      "pre"
    ],
    "return": [
      "pre",
      "pre"
    ],
    "impersonated": [
      "pre"
    ],
    "user": [
      "pre"
    ],
    "users": [
      "pre"
    ],
    "identity": [
      "pre"
    ],
    "stringformat(\"hi,": [
      "pre"
    ],
    "{0}": [
      "pre"
    ],
    "have": [
      "pre"
    ],
    "entered": [
      "pre"
    ],
    "{1}\"": [
      "pre"
    ],
    "windowsidentitygetcurrent().name,": [
      "pre"
    ],
    "value;": [
      "pre"
    ],
    "}}": [
      "pre"
    ],
    "additional": [
      "h1"
    ],
    "resources": [
      "h1"
    ],
    "for": [
      "ul",
      "li",
      "li"
    ],
    "more": [
      "ul",
      "li"
    ],
    "information": [
      "ul",
      "li"
    ],
    "see": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "“delegation": [
      "ul",
      "li"
    ],
    "and": [
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li"
    ],
    "with": [
      "ul",
      "li"
    ],
    "wcf”": [
      "ul",
      "li"
    ],
    "at": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms730088.aspxfor": [
      "ul"
    ],
    "delegation": [
      "ul",
      "li"
    ],
    "q&a": [
      "ul",
      "li"
    ],
    "impersonation/delegation": [
      "ul",
      "li"
    ],
    "section": [
      "ul",
      "li"
    ],
    "of": [
      "ul",
      "li"
    ],
    "“wcf": [
      "ul",
      "li"
    ],
    "questions": [
      "ul",
      "li"
    ],
    "answers“": [
      "ul",
      "li"
    ],
    "http//www.codeplex.com/wcfsecurity/wiki/view.aspx?title=questions%20and%20answers&referringtitle=home": [
      "ul",
      "li",
      "a"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms730088.aspx": [
      "li",
      "a"
    ],
    "adapted": [
      "p"
    ],
    "from": [
      "p"
    ],
    "patterns": [
      "p"
    ],
    "&": [
      "p"
    ],
    "practices": [
      "p"
    ],
    "guidance": [
      "p"
    ],
    "impersonating": [
      "title"
    ],
    "sure": [
      "title"
    ]
  },
  "tags": {
    "h1": [
      "Applies to",
      "What to Do",
      "Why",
      "How",
      "Additional Resources"
    ],
    "ul": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5 Microsoft Visual Studio® 2008",
      "For more information, see “Delegation and Impersonation with WCF” at http://msdn2.microsoft.com/en-us/library/ms730088.aspxFor impersonation and delegation Q&A, see the Impersonation/Delegation section of “WCF 3.5 Questions and Answers“ at http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions%20and%20Answers&referringTitle=Home"
    ],
    "li": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5",
      "Microsoft Visual Studio® 2008",
      "For more information, see “Delegation and Impersonation with WCF” at http://msdn2.microsoft.com/en-us/library/ms730088.aspx",
      "For impersonation and delegation Q&A, see the Impersonation/Delegation section of “WCF 3.5 Questions and Answers“ at http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions%20and%20Answers&referringTitle=Home"
    ],
    "p": [
      "When using programmatic impersonation, revert to the original security context as soon as possible.",
      "If you do not remember to revert, your application’s attack surface will be increased as it will be running under higher privileges than necessary. Use the using statement to revert impersonation automatically.",
      "The following code snippet shows how to impersonate programmatically:",
      "Adapted from Microsoft patterns & practices guidance."
    ],
    "pre": [
      "public string GetData(int value){  using (ServiceSecurityContext.Current.WindowsIdentity.Impersonate()) {     // return the impersonated user (original users identity)     return string.Format(\"Hi, {0}, you have entered: {1}\",          WindowsIdentity.GetCurrent().Name, value); }}"
    ],
    "br": [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ],
    "a": [
      "http://msdn2.microsoft.com/en-us/library/ms730088.aspx",
      "http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions%20and%20Answers&referringTitle=Home"
    ],
    "hr": [
      ""
    ]
  },
  "links": [
    {
      "href": "http://msdn2.microsoft.com/en-us/library/ms730088.aspx",
      "text": "http://msdn2.microsoft.com/en-us/library/ms730088.aspx"
    },
    {
      "href": "http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions%20and%20Answers&referringTitle=Home",
      "text": "http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions%20and%20Answers&referringTitle=Home"
    }
  ],
  "html": "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>Microsoft&#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&#174; 2008</li></li>\r\n  </ul>\r\n  <h1>What to Do</h1>\r\n  <p>When using programmatic impersonation, revert to the original security context as soon as possible.</p>\r\n  <h1>Why</h1>\r\n  <p>If you do not remember to revert, your application&#8217;s attack surface will be increased as it will be running under higher privileges than necessary. Use the using statement to revert impersonation automatically.</p>\r\n  <h1>How </h1>\r\n  <p>The following code snippet shows how to impersonate programmatically:</p>\r\n  <pre>public string GetData(int value)<br />&#123; <br /> using (ServiceSecurityContext.Current.WindowsIdentity.Impersonate())<br /> &#123;<br />     // return the impersonated user (original users identity)<br />     return string.Format(\"Hi, &#123;0&#125;, you have entered: &#123;1&#125;\",<br />          WindowsIdentity.GetCurrent().Name, value);<br /> &#125;<br />&#125;</pre>\r\n  <h1>Additional Resources</h1>\r\n  <ul>\r\n    <li>For more information, see &#8220;Delegation and Impersonation with WCF&#8221; at <a href=\"http://msdn2.microsoft.com/en-us/library/ms730088.aspx\">http://msdn2.microsoft.com/en-us/library/ms730088.aspx</a><li>For impersonation and delegation Q&A, see the Impersonation/Delegation section of &#8220;WCF 3.5 Questions and Answers&#8220; at <a href=\"http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions&#37;20and&#37;20Answers&referringTitle=Home\">http://www.codeplex.com/WCFSecurity/Wiki/View.aspx?title=Questions&#37;20and&#37;20Answers&referringTitle=Home</a></li></li>\r\n  </ul>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
}