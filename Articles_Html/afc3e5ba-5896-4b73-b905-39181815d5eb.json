{
  "id": "afc3e5ba-5896-4b73-b905-39181815d5eb",
  "checksum": "f1675ec9170319d971680c45a76c22506f29f0d3",
  "words": {
    "35": [
      "ul",
      "li",
      "ul",
      "li"
    ],
    "2008": [
      "ul",
      "li"
    ],
    "applies": [
      "h1"
    ],
    "to": [
      "h1",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "title"
    ],
    "microsoft®": [
      "ul",
      "li"
    ],
    "windows": [
      "ul",
      "li",
      "p"
    ],
    "communication": [
      "ul",
      "li"
    ],
    "foundation": [
      "ul",
      "li"
    ],
    "wcf)": [
      "ul",
      "li"
    ],
    "microsoft": [
      "ul",
      "li",
      "p"
    ],
    "visual": [
      "ul",
      "li"
    ],
    "studio®": [
      "ul",
      "li"
    ],
    "description": [
      "h1"
    ],
    "resource-based": [
      "p",
      "p",
      "p",
      "title"
    ],
    "authorization": [
      "p",
      "p",
      "p",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li",
      "title"
    ],
    "sets": [
      "p",
      "p"
    ],
    "permissions": [
      "p",
      "p"
    ],
    "on": [
      "p",
      "p",
      "p",
      "ul",
      "li"
    ],
    "the": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "ul",
      "li"
    ],
    "resource": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "pre"
    ],
    "itself": [
      "p",
      "p"
    ],
    "for": [
      "p",
      "ul",
      "li",
      "li"
    ],
    "instance": [
      "p"
    ],
    "you": [
      "p",
      "p",
      "p",
      "pre"
    ],
    "would": [
      "p"
    ],
    "set": [
      "p"
    ],
    "an": [
      "p",
      "p"
    ],
    "acl": [
      "p",
      "p"
    ],
    "a": [
      "p",
      "p"
    ],
    "and": [
      "p",
      "p",
      "p",
      "ul",
      "li"
    ],
    "then": [
      "p",
      "p"
    ],
    "use": [
      "p",
      "p",
      "p"
    ],
    "identity": [
      "p",
      "p"
    ],
    "of": [
      "p",
      "ul",
      "li"
    ],
    "original": [
      "p",
      "p",
      "p"
    ],
    "caller": [
      "p",
      "p",
      "p"
    ],
    "determine": [
      "p"
    ],
    "access": [
      "p",
      "pre"
    ],
    "rights": [
      "p"
    ],
    "if": [
      "p"
    ],
    "in": [
      "p"
    ],
    "wcf": [
      "p",
      "p"
    ],
    "you’ll": [
      "p"
    ],
    "need": [
      "p",
      "p"
    ],
    "impersonate": [
      "p"
    ],
    "through": [
      "p",
      "p"
    ],
    "application": [
      "p"
    ],
    "layer": [
      "p",
      "p"
    ],
    "e.g.": [
      "p"
    ],
    "aspnet": [
      "p"
    ],
    "application,": [
      "p"
    ],
    "service": [
      "p"
    ],
    "business": [
      "p"
    ],
    "logic": [
      "p"
    ],
    "code": [
      "p",
      "p"
    ],
    "that": [
      "p"
    ],
    "is": [
      "p",
      "pre",
      "pre"
    ],
    "accessing": [
      "p"
    ],
    "file": [
      "p"
    ],
    "by": [
      "p"
    ],
    "setting": [
      "p"
    ],
    "impersonating": [
      "p",
      "pre"
    ],
    "following": [
      "p"
    ],
    "impersonates": [
      "p"
    ],
    "specific": [
      "p"
    ],
    "fixed)": [
      "p"
    ],
    "using": [
      "pre"
    ],
    "systemsecurity.principal;…windowsidentity": [
      "pre"
    ],
    "wi": [
      "pre"
    ],
    "=": [
      "pre",
      "pre",
      "pre"
    ],
    "new": [
      "pre"
    ],
    "windowsidentity“username@fullyqualifieddomainname”);windowsimpersonationcontext": [
      "pre"
    ],
    "ctx": [
      "pre",
      "pre"
    ],
    "null": [
      "pre"
    ],
    "“username@fullyqualifieddomainname": [
      "a"
    ],
    "try{": [
      "pre"
    ],
    "wiimpersonate();": [
      "pre"
    ],
    "//": [
      "pre",
      "pre",
      "pre"
    ],
    "thread": [
      "pre"
    ],
    "now": [
      "pre"
    ],
    "can": [
      "pre"
    ],
    "needed…}catch{": [
      "pre"
    ],
    "prevent": [
      "pre"
    ],
    "exceptions": [
      "pre"
    ],
    "propagating}finally{": [
      "pre"
    ],
    "ensure": [
      "pre"
    ],
    "impersonation": [
      "pre"
    ],
    "reverted": [
      "pre"
    ],
    "ctxundo();}": [
      "pre"
    ],
    "additional": [
      "h1"
    ],
    "resources": [
      "h1"
    ],
    "more": [
      "ul",
      "li"
    ],
    "information": [
      "ul",
      "li"
    ],
    "see": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "“authorization”": [
      "ul",
      "li"
    ],
    "at": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms733071.aspxfor": [
      "ul"
    ],
    "q&a": [
      "ul",
      "li"
    ],
    "section": [
      "ul",
      "li"
    ],
    "“wcf": [
      "ul",
      "li"
    ],
    "questions": [
      "ul",
      "li"
    ],
    "answers": [
      "ul",
      "li"
    ],
    "“": [
      "ul",
      "li"
    ],
    "http//www.codeplex.com/wcfsecurityguide/wiki/view.aspx?title=wcf%20security%20guidelines&referringtitle=home": [
      "ul",
      "li",
      "a"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms733071.aspx": [
      "li",
      "a"
    ],
    "adapted": [
      "p"
    ],
    "from": [
      "p"
    ],
    "patterns": [
      "p"
    ],
    "&": [
      "p"
    ],
    "practices": [
      "p"
    ],
    "guidance": [
      "p"
    ],
    "how": [
      "title"
    ],
    "perform": [
      "title"
    ]
  },
  "tags": {
    "h1": [
      "Applies to",
      "Description",
      "Additional Resources"
    ],
    "ul": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5 Microsoft Visual Studio® 2008",
      "For more information on authorization, see “Authorization” at http://msdn2.microsoft.com/en-us/library/ms733071.aspxFor authorization Q&A, see the Authorization section of “WCF 3.5 Questions and Answers “ at http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "li": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5",
      "Microsoft Visual Studio® 2008",
      "For more information on authorization, see “Authorization” at http://msdn2.microsoft.com/en-us/library/ms733071.aspx",
      "For authorization Q&A, see the Authorization section of “WCF 3.5 Questions and Answers “ at http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "p": [
      "Resource-based authorization sets permissions on the resource itself. For instance you would set an ACL on a Windows resource and then use the identity of the original caller to determine access rights to the resource. If you use resource-based authorization in WCF you’ll need to impersonate the original caller through the application layer (e.g. ASP.NET application), through the WCF service layer and to the business logic code that is accessing the file resource.",
      "To use resource-based authorization you need to sets permissions on the resource itself by setting an ACL and then impersonating the original caller.",
      "The following code impersonates a specific (fixed) identity.",
      "Adapted from Microsoft patterns & practices guidance."
    ],
    "pre": [
      "using System.Security.Principal;…WindowsIdentity wi = new WindowsIdentity(“userName@fullyqualifieddomainName”);WindowsImpersonationContext ctx = null;",
      "try{  ctx = wi.Impersonate();",
      "// Thread is now impersonating you can access resource needed…}catch{  // Prevent exceptions propagating.}finally{  // Ensure impersonation is reverted  ctx.Undo();}"
    ],
    "br": [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ],
    "a": [
      "“userName@fullyqualifieddomainName",
      "http://msdn2.microsoft.com/en-us/library/ms733071.aspx",
      "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "hr": [
      ""
    ]
  },
  "links": [
    {
      "href": "mailto:“userName@fullyqualifieddomainName",
      "text": "“userName@fullyqualifieddomainName"
    },
    {
      "href": "http://msdn2.microsoft.com/en-us/library/ms733071.aspx",
      "text": "http://msdn2.microsoft.com/en-us/library/ms733071.aspx"
    },
    {
      "href": "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home",
      "text": "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    }
  ],
  "html": "<h1>Applies to</h1>\n  <ul>\n    <li>Microsoft&#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&#174; 2008</li></li>\n  </ul>\n  <h1>Description</h1>\n  <p>Resource-based authorization sets permissions on the resource itself. For instance you would set an ACL on a Windows resource and then use the identity of the original caller to determine access rights to the resource. If you use resource-based authorization in WCF you&#8217;ll need to impersonate the original caller through the application layer (e.g. ASP.NET application), through the WCF service layer and to the business logic code that is accessing the file resource.</p>\n  <p>To use resource-based authorization you need to sets permissions on the resource itself by setting an ACL and then impersonating the original caller.</p>\n  <p>The following code impersonates a specific (fixed) identity.</p>\n  <pre>using System.Security.Principal;<br />&#8230;<br />WindowsIdentity wi = new WindowsIdentity(<a href=\"mailto:&#8220;userName&#64;fullyqualifieddomainName\">&#8220;userName&#64;fullyqualifieddomainName</a>&#8221;);<br />WindowsImpersonationContext ctx = null;</pre>\n  <pre>try<br />&#123;<br />  ctx = wi.Impersonate();</pre>\n  <pre>  // Thread is now impersonating you can access resource needed&#8230;<br />&#125;<br />catch<br />&#123;<br />  // Prevent exceptions propagating.<br />&#125;<br />finally<br />&#123;<br />  // Ensure impersonation is reverted<br />  ctx.Undo();<br />&#125;<br /></pre>\n  <h1>Additional Resources</h1>\n  <ul>\n    <li>For more information on authorization, see &#8220;Authorization&#8221; at <a href=\"http://msdn2.microsoft.com/en-us/library/ms733071.aspx\">http://msdn2.microsoft.com/en-us/library/ms733071.aspx</a><li>For authorization Q&A, see the Authorization section of &#8220;WCF 3.5 Questions and Answers &#8220; at <a href=\"http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF&#37;20Security&#37;20Guidelines&referringTitle=Home\">http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF&#37;20Security&#37;20Guidelines&referringTitle=Home</a></li></li>\n  </ul>\n  <hr />\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
}