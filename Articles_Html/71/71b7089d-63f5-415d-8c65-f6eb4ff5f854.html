<h1>Applies To</h1>
  <ul>
    <li>ASP.NET 4.0</li>
  </ul>
  <h1>What to Check For</h1>
  <p>Verify that the site is partitioned into pages that use SSL and pages that don't.</p>
  <h1>Why</h1>
  <p>SSL incurs a performance overhead. To improve performance, only use SSL for pages that handle sensitive information.</p>
  <h1>How To Check</h1>
  <p>Perform the following actions to verify that the site is partitioned between SSL and unsecured areas:</p>
  <ol>
    <li>
      <p>
        <strong>Identify SSL secured pages.</strong> Make a list of all pages on your site and determine which ones are secured by SSL.</p>
    </li>
    <li>
      <p>
        <strong>Identify pages not secured by SSL.</strong> Make a list of all the pages on your site that are not protected by SSL.</p>
    </li>
    <li>
      <p>
        <strong>Make sure that pages that handle sensitive data are secured with SSL.</strong> Identify all the pages that handle sensitive data, including all the pages that use authenticated identities. Verify that all of these pages are protected by SSL. Review the list of pages that don't use SSL to make sure that they don't need it.</p>
    </li>
    <li>
      <p>
        <strong>Verify that simple, public pages don't use SSL.</strong> Identify the pages that don't use authenticated identities and don't handle sensitive information. These pages don't need to be secured with SSL, so it's okay to put them in a location that does not use SSL.</p>
    </li>
  </ol>
  <h1>How To Fix</h1>
  <p>To avoid having to use SSL across your entire site, structure your Web site so that the secure pages that require authenticated access are placed in a subdirectory that is separate from the anonymously accessible pages.&amp;nbsp;Perform the following actions to secure pages in a separate subfolder:</p>
  <ol>
    <li>
      <p>
        <strong>Enable SSL.</strong> In Microsoft Internet Information Services (IIS), configure the secure folder to require SSL. This sets the <em>AccessSSL=true</em> attribute for the folder in the IIS Metabase. Requests for pages in the secured folders are successful only if HTTPS is used for the request URL. </p>
    </li>
    <li>
      <p />
      <strong>Require authentication.</strong> Use an &lt;<em>authorization</em>&gt; element to ensure that only authenticated users can access secure pages. Place this element beneath the closing &lt;<em>/system.web</em>&gt; tag, as shown here. <pre>&lt;!-- The secure folder is for authenticated and SSL access only. --&gt;<br />&lt;location path="Secure" &gt;<br />  &lt;system.web&gt;<br />    &lt;authorization&gt;<br />      &lt;deny users="?" /&gt;<br />    &lt;/authorization&gt;<br />  &lt;/system.web&gt;<br />&lt;/location&gt;  </pre><p />Additionally, the following configuration ensures that unauthenticated users are allowed to access pages in the application's root directory. Place this configuration in the main &lt;<em>system.web</em>&gt; element. <pre>&lt;system.web&gt;<br />  &lt;!-- The virtual directory root folder contains general pages.<br />       Unauthenticated users can view them and they do not need<br />        to be secured with SSL. --&gt;<br />  &lt;authorization&gt;<br />    &lt;allow users="*" /&gt;<br />  &lt;/authorization&gt;<br />&lt;/system.web&gt;  </pre><p><b>Note: </b>If you use this type of site structure, your application must not rely on the user's identity on the non-SSL pages. In the preceding configuration, no forms authentication ticket is sent for requests for non-SSL pages. As a result, the user is considered anonymous. This has implications for related features, such as personalization, that require the user name.<b>&amp;nbsp;</b>&amp;nbsp;</p></li>
  </ol>
  <h1>Related Items</h1>
  <em>You may find these additional articles useful</em>
  <ul>
    <li>
      <a href="/article/381d3535-1ef9-40b9-93b7-e6b34bc5fcce">Partition Your Site into SSL and Unsecured Areas</a>
    </li>
  </ul>
  <hr />
  <p>Adapted from Microsoft patterns &amp; practices guidance. </p>