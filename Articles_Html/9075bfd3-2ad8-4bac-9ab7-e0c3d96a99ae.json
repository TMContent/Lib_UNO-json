{
  "id": "9075bfd3-2ad8-4bac-9ab7-e0c3d96a99ae",
  "checksum": "d955fdc03d7c6fd1780e6b1950242298d09bcb7c",
  "words": {
    "35": [
      "ul",
      "li",
      "ul",
      "li"
    ],
    "2008": [
      "ul",
      "li"
    ],
    "applies": [
      "h1"
    ],
    "to": [
      "h1",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "ol",
      "li",
      "p",
      "p",
      "strong",
      "ul",
      "li",
      "title"
    ],
    "microsoft®": [
      "ul",
      "li"
    ],
    "windows": [
      "ul",
      "li"
    ],
    "communication": [
      "ul",
      "li"
    ],
    "foundation": [
      "ul",
      "li"
    ],
    "wcf)": [
      "ul",
      "li"
    ],
    "microsoft": [
      "ul",
      "li",
      "p"
    ],
    "visual": [
      "ul",
      "li"
    ],
    "studio®": [
      "ul",
      "li"
    ],
    "description": [
      "h1"
    ],
    "you": [
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "can": [
      "p",
      "p",
      "p",
      "p"
    ],
    "use": [
      "p",
      "p",
      "p",
      "p",
      "ul",
      "li",
      "title"
    ],
    "health": [
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "strong",
      "p",
      "p",
      "strong",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li",
      "title"
    ],
    "monitoring": [
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "strong",
      "p",
      "p",
      "strong",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li",
      "title"
    ],
    "log": [
      "p",
      "p"
    ],
    "custom": [
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "strong",
      "pre",
      "pre",
      "pre",
      "p",
      "strong",
      "p",
      "pre",
      "p"
    ],
    "events": [
      "p",
      "p",
      "p"
    ],
    "in": [
      "p",
      "p",
      "p",
      "ul",
      "li",
      "title"
    ],
    "your": [
      "p",
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "strong",
      "p",
      "strong"
    ],
    "service": [
      "p",
      "p",
      "ol",
      "li",
      "p",
      "strong",
      "p",
      "p",
      "p"
    ],
    "based": [
      "p"
    ],
    "on": [
      "p",
      "ul",
      "li"
    ],
    "business": [
      "p"
    ],
    "logic": [
      "p"
    ],
    "instrument": [
      "p",
      "ol",
      "li",
      "p",
      "strong",
      "p"
    ],
    "application": [
      "p",
      "p",
      "ol",
      "li",
      "p",
      "strong"
    ],
    "and": [
      "p",
      "p",
      "p",
      "p",
      "p"
    ],
    "monitor": [
      "p"
    ],
    "user": [
      "p",
      "p",
      "p"
    ],
    "management": [
      "p",
      "p"
    ],
    "around": [
      "p"
    ],
    "authentication": [
      "p"
    ],
    "authorization": [
      "p"
    ],
    "this": [
      "p",
      "pre"
    ],
    "instrumentation": [
      "p"
    ],
    "help": [
      "p"
    ],
    "detect": [
      "p"
    ],
    "react": [
      "p"
    ],
    "potentially": [
      "p"
    ],
    "suspicious": [
      "p"
    ],
    "behavior": [
      "p"
    ],
    "it": [
      "p"
    ],
    "also": [
      "p"
    ],
    "enables": [
      "p"
    ],
    "gather": [
      "p"
    ],
    "operations": [
      "p"
    ],
    "data": [
      "p"
    ],
    "for": [
      "p",
      "ol",
      "li",
      "p",
      "strong",
      "ul",
      "li",
      "li",
      "li"
    ],
    "example": [
      "p"
    ],
    "track": [
      "p"
    ],
    "who": [
      "p"
    ],
    "is": [
      "p"
    ],
    "accessing": [
      "p"
    ],
    "when": [
      "p",
      "p"
    ],
    "account": [
      "p"
    ],
    "passwords": [
      "p"
    ],
    "need": [
      "p"
    ],
    "be": [
      "p"
    ],
    "reset": [
      "p"
    ],
    "the": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "ul",
      "li"
    ],
    "following": [
      "p"
    ],
    "steps": [
      "p",
      "p"
    ],
    "configure": [
      "p",
      "ol",
      "li",
      "p",
      "strong"
    ],
    "wcf": [
      "p",
      "ol",
      "li",
      "p",
      "strong",
      "p",
      "title"
    ],
    "create": [
      "ol",
      "li",
      "p",
      "p",
      "p",
      "strong"
    ],
    "a": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p",
      "strong",
      "p",
      "p",
      "strong",
      "p",
      "p"
    ],
    "event": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "strong",
      "pre",
      "pre",
      "p",
      "strong",
      "p",
      "pre",
      "p"
    ],
    "raise": [
      "ol",
      "li",
      "p",
      "strong"
    ],
    "web": [
      "p"
    ],
    "by": [
      "p",
      "p"
    ],
    "creating": [
      "p"
    ],
    "class": [
      "p",
      "p",
      "pre"
    ],
    "library": [
      "p"
    ],
    "then": [
      "p"
    ],
    "that": [
      "p",
      "p"
    ],
    "inherits": [
      "p"
    ],
    "from": [
      "p",
      "p",
      "p"
    ],
    "webauditevent": [
      "p",
      "pre"
    ],
    "using": [
      "pre"
    ],
    "systemweb.management;": [
      "pre"
    ],
    "public": [
      "pre",
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "myevent": [
      "pre",
      "pre"
    ],
    "{": [
      "pre",
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "myeventstring": [
      "pre",
      "pre"
    ],
    "msg": [
      "pre",
      "pre"
    ],
    "object": [
      "pre",
      "pre"
    ],
    "eventsource": [
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "int": [
      "pre",
      "pre",
      "pre"
    ],
    "eventcode": [
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "basemsg,": [
      "pre",
      "pre"
    ],
    "}": [
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "eventdetailcode": [
      "pre",
      "pre"
    ],
    "override": [
      "pre"
    ],
    "void": [
      "pre"
    ],
    "formatcustomeventdetailswebeventformatter": [
      "pre"
    ],
    "formatter": [
      "pre"
    ],
    "baseformatcustomeventdetails(formatter);": [
      "pre"
    ],
    "//": [
      "pre"
    ],
    "display": [
      "pre"
    ],
    "some": [
      "pre",
      "pre"
    ],
    "message": [
      "pre"
    ],
    "formatterappendline(\"some": [
      "pre"
    ],
    "critical": [
      "pre"
    ],
    "fired\";": [
      "pre"
    ],
    "add": [
      "p",
      "pre",
      "pre"
    ],
    "element": [
      "p"
    ],
    "configuration": [
      "p"
    ],
    "file": [
      "p"
    ],
    "as": [
      "p"
    ],
    "follows": [
      "p"
    ],
    "…system.web>": [
      "pre"
    ],
    "healthmonitoring>": [
      "pre"
    ],
    "eventmappings>": [
      "pre"
    ],
    "name=\"some": [
      "pre"
    ],
    "event\"": [
      "pre",
      "pre",
      "pre",
      "pre"
    ],
    "type=\"myeventlibrarymyevent,": [
      "pre"
    ],
    "myeventlibrary\"/": [
      "pre"
    ],
    "/eventmappings>": [
      "pre"
    ],
    "rules>": [
      "pre"
    ],
    "name=\"custom": [
      "pre"
    ],
    "eventname=\"some": [
      "pre"
    ],
    "provider=\"eventlogprovider\"": [
      "pre"
    ],
    "mininterval=\"0000:01\"/>": [
      "pre"
    ],
    "/rules>": [
      "pre"
    ],
    "/healthmonitoring></system.web>…": [
      "pre"
    ],
    "raising": [
      "p"
    ],
    "contract": [
      "p"
    ],
    "operationcontract]string": [
      "pre"
    ],
    "invokecriticalevent);": [
      "pre"
    ],
    "string": [
      "pre"
    ],
    "invokecriticalevent)": [
      "pre"
    ],
    "obj": [
      "pre"
    ],
    "=": [
      "pre"
    ],
    "new": [
      "pre"
    ],
    "myevent\"invoking": [
      "pre"
    ],
    "webeventcodeswebextendedbase": [
      "pre"
    ],
    "+": [
      "pre"
    ],
    "1;": [
      "pre"
    ],
    "objraise();": [
      "pre"
    ],
    "return": [
      "pre"
    ],
    "\"critical": [
      "pre"
    ],
    "invoked\"": [
      "pre"
    ],
    "these": [
      "p"
    ],
    "are": [
      "p",
      "p"
    ],
    "complete": [
      "p"
    ],
    "verify": [
      "p"
    ],
    "system": [
      "p"
    ],
    "after": [
      "p"
    ],
    "calling": [
      "p"
    ],
    "method": [
      "p"
    ],
    "test": [
      "p"
    ],
    "client": [
      "p"
    ],
    "additional": [
      "h1"
    ],
    "resources": [
      "h1"
    ],
    "more": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "information": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "see": [
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li"
    ],
    "“how": [
      "ul",
      "li"
    ],
    "aspnet": [
      "ul",
      "li"
    ],
    "20”": [
      "ul",
      "li"
    ],
    "at": [
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms998306.aspxfor": [
      "ul"
    ],
    "“aspnet": [
      "ul",
      "li"
    ],
    "overview”": [
      "ul",
      "li"
    ],
    "http//msdn.microsoft.com/en-us/library/bb398933.aspxfor": [
      "ul"
    ],
    "auditing": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "guidelines": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "&": [
      "ul",
      "li",
      "p"
    ],
    "logging": [
      "ul",
      "li"
    ],
    "section": [
      "ul",
      "li"
    ],
    "of": [
      "ul",
      "li"
    ],
    "“wcf": [
      "ul",
      "li"
    ],
    "“": [
      "ul",
      "li"
    ],
    "http//www.codeplex.com/wcfsecurityguide/wiki/view.aspx?title=wcf%20security%20guidelines&referringtitle=home": [
      "ul",
      "li",
      "a"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms998306.aspx": [
      "li",
      "a"
    ],
    "http//msdn.microsoft.com/en-us/library/bb398933.aspx": [
      "li",
      "a"
    ],
    "adapted": [
      "p"
    ],
    "patterns": [
      "p"
    ],
    "practices": [
      "p"
    ],
    "guidance": [
      "p"
    ],
    "how": [
      "title"
    ]
  },
  "tags": {
    "h1": [
      "Applies to",
      "Description",
      "Additional Resources"
    ],
    "ul": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5 Microsoft Visual Studio® 2008",
      "For more information on health monitoring, see “How to: Use Health Monitoring in ASP.NET 2.0” at http://msdn2.microsoft.com/en-us/library/ms998306.aspxFor more information see “ASP.NET Health Monitoring Overview” at http://msdn.microsoft.com/en-us/library/bb398933.aspxFor auditing Guidelines, see the Auditing & Logging section of “WCF 3.5 Guidelines “ at http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "li": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5",
      "Microsoft Visual Studio® 2008",
      "Create a custom health monitoring event.",
      "Configure your WCF service for health monitoring.",
      "Instrument your application to raise a custom event.",
      "For more information on health monitoring, see “How to: Use Health Monitoring in ASP.NET 2.0” at http://msdn2.microsoft.com/en-us/library/ms998306.aspx",
      "For more information see “ASP.NET Health Monitoring Overview” at http://msdn.microsoft.com/en-us/library/bb398933.aspx",
      "For auditing Guidelines, see the Auditing & Logging section of “WCF 3.5 Guidelines “ at http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "p": [
      "You can use Health Monitoring to log custom events in your service based on business logic. You can use health monitoring to Instrument your application and monitor user management events around authentication and authorization. This instrumentation can help you to detect and react to potentially suspicious behavior. It also enables you to gather operations data; for example, to track who is accessing your application and when user account passwords need to be reset.",
      "Use the following steps to configure your WCF service to use Health Monitoring:",
      "Create a custom health monitoring event\r\n    Create a Custom user management web event, by creating a class library and then create a class that inherits from WebAuditEvent.",
      "Configure your WCF Service for Health Monitoring\r\n    Add a health monitoring element to your configuration file as follows:",
      "Instrument your application to raise a custom event",
      "Instrument the WCF Service by raising the custom event in a service contract.",
      "When these steps are complete you can verify that the custom events are in the system event log after calling the service method from a test client.",
      "Adapted from Microsoft patterns & practices guidance."
    ],
    "ol": [
      "Create a custom health monitoring event. Configure your WCF service for health monitoring. Instrument your application to raise a custom event."
    ],
    "strong": [
      "Create a custom health monitoring event",
      "Configure your WCF Service for Health Monitoring",
      "Instrument your application to raise a custom event"
    ],
    "br": [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ],
    "pre": [
      "using System.Web.Management;",
      "public class MyEvent : WebAuditEvent    {",
      "public MyEvent(string msg, object eventSource, int eventCode)            : base(msg, eventSource, eventCode)        {        }",
      "public MyEvent(string msg, object eventSource, int eventCode, int eventDetailCode)            : base(msg, eventSource, eventCode, eventDetailCode)        {        }   public override void FormatCustomEventDetails(WebEventFormatter formatter)        {            base.FormatCustomEventDetails(formatter);",
      "// Display some custom event message            formatter.AppendLine(\"Some Critical Event Fired\"); }",
      "…<system.web> <healthMonitoring>  <eventMappings>   <add name=\"Some Custom Event\" type=\"MyEventLibrary.MyEvent, MyEventLibrary\"/>  </eventMappings>  <rules>   <add name=\"Custom event\" eventName=\"Some Custom Event\" provider=\"EventLogProvider\" minInterval=\"00:00:01\"/>  </rules> </healthMonitoring></system.web>…",
      "[OperationContract]string InvokeCriticalEvent();",
      "public string InvokeCriticalEvent()    {        MyEvent obj = new MyEvent(\"Invoking Some Custom Event\", this, WebEventCodes.WebExtendedBase + 1);        obj.Raise();        return \"Critical event invoked\";    }"
    ],
    "a": [
      "http://msdn2.microsoft.com/en-us/library/ms998306.aspx",
      "http://msdn.microsoft.com/en-us/library/bb398933.aspx",
      "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "hr": [
      ""
    ]
  },
  "links": [
    {
      "href": "http://msdn2.microsoft.com/en-us/library/ms998306.aspx",
      "text": "http://msdn2.microsoft.com/en-us/library/ms998306.aspx"
    },
    {
      "href": "http://msdn.microsoft.com/en-us/library/bb398933.aspx",
      "text": "http://msdn.microsoft.com/en-us/library/bb398933.aspx"
    },
    {
      "href": "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home",
      "text": "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    }
  ],
  "html": "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>Microsoft&#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&#174; 2008</li></li>\r\n  </ul>\r\n  <h1>Description</h1>\r\n  <p>You can use Health Monitoring to log custom events in your service based on business logic. You can use health monitoring to Instrument your application and monitor user management events around authentication and authorization. This instrumentation can help you to detect and react to potentially suspicious behavior. It also enables you to gather operations data; for example, to track who is accessing your application and when user account passwords need to be reset.</p>\r\n  <p>Use the following steps to configure your WCF service to use Health Monitoring:</p>\r\n  <ol>\r\n    <li>Create a custom health monitoring event. <li>Configure your WCF service for health monitoring. <li>Instrument your application to raise a custom event.</li></li></li>\r\n  </ol>\r\n  <p>\r\n    <strong>Create a custom health monitoring event</strong>\r\n    <br />Create a Custom user management web event, by creating a class library and then create a class that inherits from WebAuditEvent.</p>\r\n  <pre>using System.Web.Management;</pre>\r\n  <pre> public class MyEvent : WebAuditEvent<br />    &#123;</pre>\r\n  <pre>        public MyEvent(string msg, object eventSource, int eventCode)<br />            : base(msg, eventSource, eventCode)<br />        &#123;<br />        &#125;</pre>\r\n  <pre>        public MyEvent(string msg, object eventSource, int eventCode, int eventDetailCode)<br />            : base(msg, eventSource, eventCode, eventDetailCode)<br />        &#123;<br />        &#125;<br />   public override void FormatCustomEventDetails(WebEventFormatter formatter)<br />        &#123;<br />            base.FormatCustomEventDetails(formatter);</pre>\r\n  <pre>            // Display some custom event message<br />            formatter.AppendLine(\"Some Critical Event Fired\");<br /> &#125;</pre>\r\n  <p>\r\n    <strong>Configure your WCF Service for Health Monitoring</strong>\r\n    <br />Add a health monitoring element to your configuration file as follows:</p>\r\n  <pre>&#8230;<br />&lt;system.web&gt;<br /> &lt;healthMonitoring&gt;<br />  &lt;eventMappings&gt;<br />   &lt;add name=\"Some Custom Event\" type=\"MyEventLibrary.MyEvent, MyEventLibrary\"/&gt;<br />  &lt;/eventMappings&gt;<br />  &lt;rules&gt;<br />   &lt;add name=\"Custom event\" eventName=\"Some Custom Event\" provider=\"EventLogProvider\" minInterval=\"00:00:01\"/&gt;<br />  &lt;/rules&gt;<br /> &lt;/healthMonitoring&gt;<br />&lt;/system.web&gt;<br />&#8230;</pre>\r\n  <p>\r\n    <strong>Instrument your application to raise a custom event</strong>\r\n  </p>\r\n  <p>Instrument the WCF Service by raising the custom event in a service contract.</p>\r\n  <pre>&#91;OperationContract&#93;<br />string InvokeCriticalEvent();</pre>\r\n  <pre>public string InvokeCriticalEvent()<br />    &#123;<br />        MyEvent obj = new MyEvent(\"Invoking Some Custom Event\", this, WebEventCodes.WebExtendedBase &#43; 1);<br />        obj.Raise();<br />        return \"Critical event invoked\";<br />    &#125;</pre>\r\n  <p>When these steps are complete you can verify that the custom events are in the system event log after calling the service method from a test client.</p>\r\n  <h1>Additional Resources</h1>\r\n  <ul>\r\n    <li>For more information on health monitoring, see &#8220;How to: Use Health Monitoring in ASP.NET 2.0&#8221; at <a href=\"http://msdn2.microsoft.com/en-us/library/ms998306.aspx\">http://msdn2.microsoft.com/en-us/library/ms998306.aspx</a><li>For more information see &#8220;ASP.NET Health Monitoring Overview&#8221; at <a href=\"http://msdn.microsoft.com/en-us/library/bb398933.aspx\">http://msdn.microsoft.com/en-us/library/bb398933.aspx</a><li>For auditing Guidelines, see the Auditing & Logging section of &#8220;WCF 3.5 Guidelines &#8220; at <a href=\"http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF&#37;20Security&#37;20Guidelines&referringTitle=Home\">http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF&#37;20Security&#37;20Guidelines&referringTitle=Home</a></li></li></li>\r\n  </ul>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
}