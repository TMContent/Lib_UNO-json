{
  "id": "e6dbc69a-1d6d-4e89-ab8a-39f16aa27844",
  "checksum": "819746ff9c2948e1d684a1ba1be5e5b78e8bd914",
  "words": {
    "what": [
      "h1"
    ],
    "to": [
      "h1",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "blockquote"
    ],
    "do": [
      "h1"
    ],
    "restrict": [
      "p",
      "p"
    ],
    "the": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "blockquote",
      "blockquote",
      "blockquote",
      "blockquote",
      "blockquote",
      "blockquote",
      "blockquote",
      "title"
    ],
    "permissions": [
      "p",
      "p",
      "title"
    ],
    "available": [
      "p",
      "p"
    ],
    "dynamically": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "title"
    ],
    "created": [
      "p",
      "p",
      "p",
      "p",
      "blockquote"
    ],
    "assemblies": [
      "p",
      "p",
      "title"
    ],
    "by": [
      "p",
      "p"
    ],
    "using": [
      "p",
      "p"
    ],
    "overload": [
      "p",
      "p",
      "p",
      "blockquote"
    ],
    "of": [
      "p",
      "p",
      "blockquote",
      "title"
    ],
    "appdomaindefinedynamicassembly": [
      "p",
      "b",
      "p",
      "b"
    ],
    "method": [
      "p",
      "p"
    ],
    "why": [
      "h1"
    ],
    "if": [
      "p",
      "p"
    ],
    "an": [
      "p",
      "blockquote"
    ],
    "attacker": [
      "p",
      "p"
    ],
    "can": [
      "p"
    ],
    "influence": [
      "p"
    ],
    "code": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "blockquote"
    ],
    "generation": [
      "p"
    ],
    "could": [
      "p"
    ],
    "coerce": [
      "p"
    ],
    "your": [
      "p",
      "p",
      "p"
    ],
    "application": [
      "p",
      "p"
    ],
    "into": [
      "p"
    ],
    "generating": [
      "p"
    ],
    "malicious": [
      "p"
    ],
    "this": [
      "p",
      "p"
    ],
    "is": [
      "p",
      "blockquote",
      "blockquote"
    ],
    "particularly": [
      "p"
    ],
    "significant": [
      "p"
    ],
    "uses": [
      "p"
    ],
    "user-supplied": [
      "p"
    ],
    "input": [
      "p"
    ],
    "generate": [
      "p"
    ],
    "when": [
      "h1",
      "p"
    ],
    "generates": [
      "p"
    ],
    "how": [
      "h1"
    ],
    "which": [
      "p"
    ],
    "accepts": [
      "p"
    ],
    "three": [
      "p"
    ],
    "permission": [
      "p",
      "p",
      "p",
      "blockquote",
      "blockquote",
      "blockquote"
    ],
    "sets": [
      "p",
      "p"
    ],
    "and": [
      "p",
      "p"
    ],
    "evidence": [
      "p",
      "pre",
      "pre",
      "p",
      "blockquote"
    ],
    "as": [
      "p"
    ],
    "shown": [
      "p"
    ],
    "in": [
      "p"
    ],
    "following": [
      "p"
    ],
    "example": [
      "p"
    ],
    "public": [
      "pre"
    ],
    "sealed": [
      "pre"
    ],
    "assemblybuilder": [
      "pre"
    ],
    "definedynamicassembly": [
      "pre"
    ],
    "assemblyname": [
      "pre"
    ],
    "name": [
      "pre"
    ],
    "assemblybuilderaccess": [
      "pre"
    ],
    "access": [
      "pre"
    ],
    "permissionset": [
      "pre",
      "pre",
      "pre"
    ],
    "requiredpermissions": [
      "pre"
    ],
    "optionalpermissions": [
      "pre"
    ],
    "refusedpermissions;": [
      "pre"
    ],
    "allows": [
      "p"
    ],
    "you": [
      "p",
      "blockquote"
    ],
    "pass": [
      "p"
    ],
    "required": [
      "p"
    ],
    "optional": [
      "p"
    ],
    "refused": [
      "p"
    ],
    "apply": [
      "p"
    ],
    "specific": [
      "p"
    ],
    "security": [
      "p"
    ],
    "policy": [
      "p"
    ],
    "assembly": [
      "p",
      "blockquote",
      "blockquote"
    ],
    "passing": [
      "p"
    ],
    "forces": [
      "p"
    ],
    "clr": [
      "p",
      "blockquote"
    ],
    "evaluate": [
      "p",
      "blockquote"
    ],
    "set": [
      "p",
      "blockquote",
      "blockquote",
      "blockquote"
    ],
    "for": [
      "p",
      "blockquote"
    ],
    "dynamic": [
      "p",
      "blockquote"
    ],
    "note   if": [
      "blockquote"
    ],
    "use": [
      "blockquote"
    ],
    "that": [
      "blockquote",
      "blockquote"
    ],
    "does": [
      "blockquote",
      "blockquote"
    ],
    "not": [
      "blockquote",
      "blockquote"
    ],
    "accept": [
      "blockquote"
    ],
    "then": [
      "blockquote"
    ],
    "instead": [
      "blockquote"
    ],
    "granted": [
      "blockquote"
    ],
    "generated": [
      "blockquote",
      "title"
    ],
    "inherited": [
      "blockquote"
    ],
    "from": [
      "blockquote",
      "p"
    ],
    "emitting": [
      "blockquote"
    ],
    "it": [
      "blockquote"
    ],
    "note": [
      "b"
    ],
    "adapted": [
      "p"
    ],
    "microsoft": [
      "p"
    ],
    "patterns": [
      "p"
    ],
    "&": [
      "p"
    ],
    "practices": [
      "p"
    ],
    "guidance": [
      "p"
    ],
    "consider": [
      "title"
    ],
    "restricting": [
      "title"
    ]
  },
  "tags": {
    "h1": [
      "What to Do",
      "Why",
      "When",
      "How",
      ""
    ],
    "p": [
      "Restrict the permissions available to dynamically created assemblies by using the overload of the AppDomain.DefineDynamicAssembly method.",
      "If an attacker can influence the code generation, the attacker could coerce your application into generating malicious code. This is particularly significant if your code uses user-supplied input to generate code dynamically.",
      "When your application dynamically generates code.",
      "Restrict the permissions available to dynamically created assemblies by using the overload of the AppDomain.DefineDynamicAssembly method, which accepts three permission sets and evidence, as shown in the following example.",
      "This overload allows you to pass required, optional, and refused permission sets to apply specific security policy to the dynamically created assembly. Passing the evidence forces the CLR to evaluate the permission set for dynamic created code.",
      "Adapted from Microsoft patterns & practices guidance."
    ],
    "b": [
      "AppDomain.DefineDynamicAssembly",
      "AppDomain.DefineDynamicAssembly",
      "Note"
    ],
    "pre": [
      "public sealed AssemblyBuilder DefineDynamicAssembly(            AssemblyName name,             AssemblyBuilderAccess access,             Evidence evidence,             PermissionSet requiredPermissions,             PermissionSet optionalPermissions,             PermissionSet refusedPermissions);"
    ],
    "br": [
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ],
    "blockquote": [
      "Note   If you use an overload that does not accept evidence, then the CLR does not evaluate the permission set for the created dynamic assembly. Instead, the permission set granted to the generated code is inherited from the permission set of the assembly that is emitting it."
    ],
    "hr": [
      ""
    ]
  },
  "links": [],
  "html": "<h1>What to Do</h1>\n  <p>Restrict the permissions available to dynamically created assemblies by using the overload of the <b>AppDomain.DefineDynamicAssembly</b> method.</p>\n  <h1>Why</h1>\n  <p>If an attacker can influence the code generation, the attacker could coerce your application into generating malicious code. This is particularly significant if your code uses user-supplied input to generate code dynamically.</p>\n  <h1>When</h1>\n  <p>When your application dynamically generates code.</p>\n  <h1>How</h1>\n  <p>Restrict the permissions available to dynamically created assemblies by using the overload of the <b>AppDomain.DefineDynamicAssembly</b> method, which accepts three permission sets and evidence, as shown in the following example.</p>\n  <pre>public sealed AssemblyBuilder DefineDynamicAssembly(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AssemblyName name, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AssemblyBuilderAccess access, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Evidence evidence, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PermissionSet requiredPermissions, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PermissionSet optionalPermissions, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PermissionSet refusedPermissions<br />);  </pre>\n  <p>This overload allows you to pass required, optional, and refused permission sets to apply specific security policy to the dynamically created assembly. Passing the evidence forces the CLR to evaluate the permission set for dynamic created code.</p>\n  <blockquote>\n    <b>Note</b>&nbsp;&nbsp;&nbsp;If you use an overload that does not accept evidence, then the CLR does not evaluate the permission set for the created dynamic assembly. Instead, the permission set granted to the generated code is inherited from the permission set of the assembly that is emitting it.</blockquote>\n  <h1>&nbsp;</h1>\n  <hr />\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
}