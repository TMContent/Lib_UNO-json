<h2>Applies To</h2><ul><li> PHP</li>
</ul><h2>What to Do</h2><p>Use strong encryption keys. In practice, this usually means using the longest possible encryption keys with the understanding that using longer keys makes the cryptographic algorithms run slower. Another factor determining the strength of encryption keys is making them difficult to predict, which often means using a cryptographically strong pseudo-random number generator (PRNG) to generate keys of sufficient length.
</p><p>
Another common approach is to pass a password through several rounds of cryptographic hashing algorithms to generate a key of sufficient length. For this solution to work properly, the password has to have a comparable amount of entropy (bits of difficult to predict data) to the encryption key. In practice, this means using a pass phrase of around 30-50 characters in length or longer. Note that 30-50 characters is an example, not a rule; the point is that cryptographic pass phrases are similar in principle but much longer in practice than typical user passwords. Pass phrase complexity requirements have to be evaluated individually for each specific cryptographic solution. 
</p><h2>Why</h2><p>Use strong encryption keys to make your encryption hard to break. The strength of the encryption keys used is one of the major factors determining the overall strength of a cryptographic solution.
</p><h2>How</h2><p>To use strong encryption keys:
</p><ol>
<li> <strong>Identify encryption key strength requirements.</strong> The exact encryption key strength requirements are different for different algorithms. Current recommendations are 4096-bit keys for RSA and 256-bit keys for AES. </li>
</ol><ol>
<li> <strong>Determine a key generation method.</strong> The process of generating keys is different for symmetric and asymmetric encryption algorithms. <ol>
<li>Asymmetric algorithms have their specific procedures for generating keys, because the public and the private keys have to match. Keys for asymmetric algorithms usually have to be generated using special functions that are bundled together with the encryption algorithms. </li>
<li>Symmetric encryption keys can be generated with a cryptographically strong pseudo-random number generator, or can be derived from pass phrases. If split knowledge of the encryption key is required, it is possible to concatenate two separate pass phrases and then pass them through a sequence of strong cryptographic hash algorithms. When this split knowledge approach is used, both people have to enter their pass phrases separately, and their input is then concatenated and passed through the sequence of cryptohashing functions to produce the encryption key that can be used to encrypt and/or decrypt data. </li></ol></li>
<li> <strong>Implement key generation functions.</strong> Write code that implements the key generation method(s) required by the application. It is reasonable to implement pass phrase based key derivation, pseudo-random number generation, and asymmetric key generation so that all these functions are available if/when the application needs them.</li>
<li> <strong>Integrate key generation functions into the cryptographic solution.</strong> Encryption keys are themselves sensitive information and have to be handled appropriately. Key generation functionality should be integrated with the key management functionality in a manner that allows the keys to be stored securely immediately after they have been generated. Usually, this means the keys themselves have to be encrypted with another key that has already been generated. The exact key management procedures are different for different applications. One simple approach is to derive a "master key" from a pass phrase and then use this "master key" to encrypt other keys, which can be entirely random. For applications where split knowledge of the "master key" is required, it is possible to derive a key from two separate pass phrases by concatenating these pass phrases and then passing them through a sequence of cryptographic hash functions. </li>
</ol><h2>Additional Information</h2><ul><li> For information about generating random numbers for cryptography, see <a href="http://tools.ietf.org/html/rfc4086">http://tools.ietf.org/html/rfc4086</a></li>
</ul>