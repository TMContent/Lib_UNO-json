<h2>What to Check For</h2>
<p>Verify that excessive sensitive data stored in the cloud is truncated and/or scrambled.</p>
<h2>Why</h2>
<p>Stored sensitive data might be compromised if some other part of the application is compromised, so it is best to store as little sensitive data as possible. If a portion of sensitive data is sufficient to satisfy application requirements, then only a portion of the sensitive data should be used. For example, it is often sufficient to store the last four digits of the Social Security Number to verify user identity, so in such cases only the last four digits should be stored.</p>
<h2>When</h2>
<p>When working with sensitive account information such as a PAN or Social Security Number (SSN), you must programmatically scramble excessive data.</p>
<h2>How to Check</h2>
<p>To verify that excessive sensitive data stored in the cloud is truncated and/or scrambled:</p>
<ol>
<li>
<p><strong>Identify all sensitive data.</strong> Review the application for sensitive data that will be used by the application. For example:</p>
<ul>
<li>incoming transaction data</li>
<li>all logs, such as transactions, history, debugging, and error</li>
<li>history files</li>
<li>trace files</li>
<li>database schemas</li>
<li>database contents.</li>
</ul>
</li>
<li>
<p><strong>Identify excessive sensitive data.</strong> Determine from the list of sensitive data which types of data can be truncated while still being able to fulfill application requirements.</p>
</li>
<li>
<p><strong>Analyze hashing requirement.</strong> Determine whether hashing a portion of the sensitive data is appropriate. Hashing should only be used if data is going to be used for validation, but never recovered from the store.</p>
</li>
<li>
<p><strong>Verify that excessive sensitive data is truncated and/or hashed.</strong> Examine the data stores containing each type of sensitive data handled by the application. Pay particular attention to sensitive data that has been identified as excessive. Verify that such data is truncated to the minimum required by the application. If the application does not need to retrieve this data, verify that it is being stored as cryptographically strong hashes.</p>
</li>
</ol>
<h2>How to Fix</h2>
<ol>
<li>
<p><strong>Identify all sensitive data.</strong> Review the application for sensitive data that will be used by the application. For example:</p>
<ul>
<li>incoming transaction data</li>
<li>all logs, such as transactions, history, debugging, and error</li>
<li>history files</li>
<li>trace files</li>
<li>database schemas</li>
<li>database contents.</li>
</ul>
</li>
<li>
<p><strong>Identify excessive sensitive data.</strong> Determine from the list of sensitive data which types of data can be truncated while still being able to fulfill application requirements.</p>
</li>
<li>
<p><strong>Analyze hashing requirement.</strong> Determine whether hashing a portion of the sensitive data is appropriate. Hashing should only be used if data is going to be used for validation, but never recovered from the store.</p>
</li>
<li>
<p><strong>Add code to truncate.</strong> Add code to truncate any excessive sensitive.</p>
</li>
<li>
<p><strong>Hash stored sensitive data.</strong> If sensitive data is only used for validation, add code to hash the partial stored sensitive data stored.</p>
</li>
</ol>
