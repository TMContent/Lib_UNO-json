{
  "id": "9ea813b5-e1a1-4439-b569-de1c6812b7cb",
  "checksum": "14f27114c1339e516f2e3e0455f3b3f72137afe2",
  "words": {
    "what": [
      "h1"
    ],
    "to": [
      "h1",
      "p",
      "p",
      "p"
    ],
    "do": [
      "h1"
    ],
    "consider": [
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "threading": [
      "p",
      "p",
      "p",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a",
      "title"
    ],
    "issues": [
      "p",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a",
      "title"
    ],
    "if": [
      "p",
      "p",
      "p",
      "ul",
      "li",
      "a"
    ],
    "impersonation": [
      "p",
      "p",
      "p",
      "ul",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a",
      "li",
      "a",
      "title"
    ],
    "is": [
      "p",
      "p",
      "p",
      "ul",
      "li",
      "a"
    ],
    "used": [
      "p",
      "ul",
      "li",
      "a"
    ],
    "why": [
      "h1"
    ],
    "losing": [
      "p"
    ],
    "an": [
      "p",
      "p"
    ],
    "impersonated": [
      "p"
    ],
    "security": [
      "p"
    ],
    "context": [
      "p"
    ],
    "because": [
      "p"
    ],
    "of": [
      "p",
      "p"
    ],
    "thread": [
      "p",
      "p"
    ],
    "switches": [
      "p"
    ],
    "a": [
      "p"
    ],
    "common": [
      "p",
      "p"
    ],
    "vulnerability": [
      "p"
    ],
    "when": [
      "h1",
      "ul",
      "li",
      "a",
      "title"
    ],
    "the": [
      "p",
      "p",
      "p",
      "p"
    ],
    "language": [
      "p"
    ],
    "runtime": [
      "p"
    ],
    "clr)": [
      "p"
    ],
    "automatically": [
      "p"
    ],
    "propagates": [
      "p"
    ],
    "tokens": [
      "p"
    ],
    "threads": [
      "p",
      "p"
    ],
    "that": [
      "p",
      "p"
    ],
    "you": [
      "p",
      "p",
      "p"
    ],
    "create": [
      "p",
      "p"
    ],
    "using": [
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "any": [
      "p"
    ],
    "managed": [
      "p"
    ],
    "techniques": [
      "p",
      "p"
    ],
    "such": [
      "p",
      "p"
    ],
    "as": [
      "p",
      "p"
    ],
    "threadstart,": [
      "p"
    ],
    "asynchronous": [
      "p"
    ],
    "delegate": [
      "p"
    ],
    "or": [
      "p",
      "p"
    ],
    "queueuserworkitem": [
      "p"
    ],
    "however": [
      "p"
    ],
    "it": [
      "p"
    ],
    "easy": [
      "p"
    ],
    "drop": [
      "p"
    ],
    "token": [
      "p"
    ],
    "use": [
      "p",
      "p"
    ],
    "com": [
      "p"
    ],
    "interop": [
      "p"
    ],
    "with": [
      "p",
      "ul",
      "li",
      "a"
    ],
    "components": [
      "p"
    ],
    "have": [
      "p"
    ],
    "incompatible": [
      "p"
    ],
    "models": [
      "p"
    ],
    "unmanaged": [
      "p"
    ],
    "new": [
      "p"
    ],
    "win32": [
      "p"
    ],
    "createthread": [
      "p"
    ],
    "api": [
      "p"
    ],
    "related": [
      "h1"
    ],
    "items": [
      "h1"
    ],
    "know": [
      "ul",
      "li",
      "a"
    ],
    "your": [
      "ul",
      "li",
      "a"
    ],
    "tradeoffs": [
      "ul",
      "li",
      "a"
    ],
    "should": [
      "ul",
      "li",
      "a"
    ],
    "be": [
      "ul",
      "li",
      "a"
    ],
    "considered": [
      "ul",
      "li",
      "a"
    ],
    "adapted": [
      "p"
    ],
    "from": [
      "p"
    ],
    "microsoft": [
      "p"
    ],
    "patterns": [
      "p"
    ],
    "&": [
      "p"
    ],
    "practices": [
      "p"
    ],
    "guidance": [
      "p"
    ]
  },
  "tags": {
    "h1": [
      "What to Do",
      "Why",
      "When",
      "Related Items"
    ],
    "p": [
      "Consider threading issues if impersonation is used.",
      "Losing an impersonated security context because of thread switches is a common vulnerability.",
      "The common language runtime (CLR) automatically propagates impersonation tokens to threads that you create using any of the managed threading techniques, such as Thread.Start, an asynchronous delegate, or QueueUserWorkItem. However, it is easy to drop the thread impersonation token if you use COM interop with components that have incompatible threading models or if you use unmanaged techniques to create new threads such as the Win32 CreateThread API.",
      "Adapted from Microsoft patterns & practices guidance."
    ],
    "ul": [
      "Know Your Tradeoffs with Impersonation\r\n    \r\n    \r\n      Threading Issues Should be Considered if Impersonation is Used\r\n    \r\n    \r\n      When Using Impersonation, Consider Threading Issues"
    ],
    "li": [
      "Know Your Tradeoffs with Impersonation",
      "Threading Issues Should be Considered if Impersonation is Used",
      "When Using Impersonation, Consider Threading Issues"
    ],
    "a": [
      "Know Your Tradeoffs with Impersonation",
      "Threading Issues Should be Considered if Impersonation is Used",
      "When Using Impersonation, Consider Threading Issues"
    ],
    "hr": [
      ""
    ]
  },
  "links": [
    {
      "href": "/article/507399c7-820f-4313-a1d9-62a65503fc9c",
      "text": "Know Your Tradeoffs with Impersonation"
    },
    {
      "href": "/article/a5498075-d530-437d-9cc1-11697b3be564",
      "text": "Threading Issues Should be Considered if Impersonation is Used"
    },
    {
      "href": "/article/9ea813b5-e1a1-4439-b569-de1c6812b7cb",
      "text": "When Using Impersonation, Consider Threading Issues"
    }
  ],
  "html": "<h1>What to Do</h1>\r\n  <p>Consider threading issues if impersonation is used. </p>\r\n  <h1>Why</h1>\r\n  <p>Losing an impersonated security context because of thread switches is a common vulnerability. </p>\r\n  <h1>When</h1>\r\n  <p>The common language runtime (CLR) automatically propagates impersonation tokens to threads that you create using any of the managed threading techniques, such as Thread.Start, an asynchronous delegate, or QueueUserWorkItem. However, it is easy to drop the thread impersonation token if you use COM interop with components that have incompatible threading models or if you use unmanaged techniques to create new threads such as the Win32 CreateThread API. </p>\r\n  <h1>Related Items</h1>\r\n  <ul>\r\n    <li>\r\n      <a href=\"/article/507399c7-820f-4313-a1d9-62a65503fc9c\">Know Your Tradeoffs with Impersonation</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"/article/a5498075-d530-437d-9cc1-11697b3be564\">Threading Issues Should be Considered if Impersonation is Used</a>\r\n    </li>\r\n    <li>\r\n      <a href=\"/article/9ea813b5-e1a1-4439-b569-de1c6812b7cb\">When Using Impersonation, Consider Threading Issues</a>\r\n    </li>\r\n  </ul>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance. </p>"
}