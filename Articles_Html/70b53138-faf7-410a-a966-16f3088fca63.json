{
  "id": "70b53138-faf7-410a-a966-16f3088fca63",
  "checksum": "eb23ada8c92c524ab340c811dadf4a8eb971507b",
  "words": {
    "applies": [
      "h1"
    ],
    "to": [
      "h1",
      "h1",
      "p",
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li",
      "p",
      "p",
      "ul",
      "li"
    ],
    "applications": [
      "ul",
      "li"
    ],
    "written": [
      "ul",
      "li",
      "ol",
      "li",
      "ul",
      "li"
    ],
    "using": [
      "ul",
      "li",
      "ol",
      "li",
      "ul",
      "li"
    ],
    "servlets": [
      "ul",
      "li"
    ],
    "or": [
      "ul",
      "li",
      "ol",
      "li",
      "p"
    ],
    "jsp": [
      "ul",
      "li"
    ],
    "what": [
      "h1"
    ],
    "do": [
      "h1",
      "ul",
      "li",
      "a"
    ],
    "optimize": [
      "p",
      "p"
    ],
    "your": [
      "p",
      "p",
      "ol",
      "li",
      "p"
    ],
    "code": [
      "p",
      "p",
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "ul",
      "li",
      "li",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p",
      "strong",
      "p",
      "p",
      "p",
      "pre",
      "p",
      "p",
      "p",
      "pre",
      "h1",
      "h1",
      "ul",
      "li",
      "a"
    ],
    "in": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "ul",
      "li",
      "li",
      "li",
      "p",
      "p"
    ],
    "sauch": [
      "p"
    ],
    "a": [
      "p",
      "ol",
      "ol",
      "li",
      "p",
      "li",
      "p",
      "p",
      "p"
    ],
    "way that": [
      "p"
    ],
    "native": [
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "ul",
      "li",
      "li",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p",
      "strong",
      "p",
      "ul",
      "li",
      "a",
      "ul",
      "li",
      "a"
    ],
    "is": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "p",
      "li",
      "li",
      "p",
      "p",
      "p",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a"
    ],
    "executed": [
      "p",
      "p",
      "ol",
      "li",
      "p"
    ],
    "as infrequently": [
      "p",
      "p"
    ],
    "as": [
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "ul",
      "li",
      "li",
      "li",
      "p",
      "p"
    ],
    "possible": [
      "p",
      "p",
      "ol",
      "li",
      "p"
    ],
    "why": [
      "h1"
    ],
    "executing": [
      "p"
    ],
    "forces": [
      "p"
    ],
    "the": [
      "p",
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "p",
      "p",
      "strong",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p",
      "p",
      "pre",
      "pre",
      "pre",
      "pre",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "p",
      "pre",
      "pre",
      "pre",
      "ul",
      "li",
      "ul",
      "li",
      "a",
      "title"
    ],
    "developer": [
      "p"
    ],
    "implement": [
      "p"
    ],
    "extra": [
      "p",
      "p"
    ],
    "security": [
      "p",
      "p",
      "p",
      "p",
      "ul",
      "li"
    ],
    "checks": [
      "p"
    ],
    "and": [
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li",
      "pre",
      "ul",
      "li",
      "a"
    ],
    "may": [
      "p"
    ],
    "result": [
      "p"
    ],
    "bugs": [
      "p"
    ],
    "such": [
      "p",
      "ol",
      "li",
      "ul",
      "li"
    ],
    "buffer": [
      "p"
    ],
    "overflows,": [
      "p"
    ],
    "which": [
      "p",
      "ol",
      "li",
      "p"
    ],
    "would": [
      "p"
    ],
    "otherwise": [
      "p"
    ],
    "be": [
      "p",
      "ol",
      "ol",
      "li",
      "ul",
      "li",
      "li",
      "p"
    ],
    "mitigated": [
      "p"
    ],
    "by": [
      "p",
      "p"
    ],
    "java": [
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li",
      "p",
      "p",
      "ul",
      "li",
      "a",
      "ul",
      "li",
      "a",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a"
    ],
    "virtual": [
      "p"
    ],
    "machine": [
      "p"
    ],
    "when": [
      "h1"
    ],
    "always": [
      "p"
    ],
    "so": [
      "p",
      "ol",
      "li",
      "p"
    ],
    "that": [
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "p",
      "p",
      "p",
      "p",
      "p",
      "ul",
      "li"
    ],
    "how": [
      "h1"
    ],
    "minimize": [
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "number": [
      "p",
      "ol",
      "li",
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "of": [
      "p",
      "ol",
      "ol",
      "li",
      "p",
      "li",
      "p",
      "p",
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "times": [
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "language": [
      "p",
      "p",
      "pre",
      "p",
      "p",
      "pre",
      "ul",
      "li",
      "a",
      "title"
    ],
    "boundaries": [
      "p",
      "p",
      "pre",
      "p",
      "p",
      "pre",
      "ul",
      "li",
      "a",
      "title"
    ],
    "are": [
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li",
      "p",
      "ul",
      "li",
      "a",
      "ul",
      "li",
      "a",
      "title"
    ],
    "crossed": [
      "p",
      "ul",
      "li",
      "a",
      "title"
    ],
    "understand": [
      "ol",
      "li",
      "p",
      "strong"
    ],
    "functionality": [
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "strong",
      "li",
      "p",
      "p",
      "ul",
      "li",
      "a",
      "ul",
      "li",
      "a"
    ],
    "make": [
      "ol",
      "li",
      "p"
    ],
    "sure": [
      "ol",
      "li",
      "p"
    ],
    "there": [
      "ol",
      "li",
      "p",
      "p"
    ],
    "clear": [
      "ol",
      "li",
      "p"
    ],
    "understanding": [
      "ol",
      "li",
      "p"
    ],
    "required": [
      "ol",
      "li",
      "p"
    ],
    "label": [
      "ol",
      "li",
      "p"
    ],
    "each": [
      "ol",
      "li",
      "p"
    ],
    "component": [
      "ol",
      "li",
      "p"
    ],
    "low": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "ul",
      "li",
      "strong"
    ],
    "high": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "ul",
      "li",
      "strong"
    ],
    "level": [
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "p",
      "ul",
      "ul",
      "li",
      "strong",
      "li",
      "strong"
    ],
    "low-level": [
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li"
    ],
    "components": [
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li",
      "li",
      "p"
    ],
    "closely": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "tied": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "hardware": [
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li"
    ],
    "operating": [
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "ul",
      "li",
      "li"
    ],
    "system": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "although": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "commonly": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "provides": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "support": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "for": [
      "ol",
      "li",
      "ul",
      "li",
      "ul",
      "li"
    ],
    "most": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "basic": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "operations": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "filesystem": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "access": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "sockets": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "etc": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "high-level": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "hold": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "business": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "logic": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "within": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "an": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "application": [
      "ol",
      "ol",
      "li",
      "ul",
      "li",
      "li",
      "p",
      "p"
    ],
    "their": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "loose": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "coupling": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "with": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "systems": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "allows": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "them": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "implemented": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "100%": [
      "ol",
      "li",
      "ul",
      "li"
    ],
    "reduce": [
      "ol",
      "li",
      "p",
      "strong"
    ],
    "calls": [
      "ol",
      "li",
      "p",
      "strong"
    ],
    "into": [
      "ol",
      "ol",
      "li",
      "li",
      "p",
      "p",
      "strong"
    ],
    "determine": [
      "ol",
      "li",
      "p"
    ],
    "functionalities": [
      "ol",
      "li",
      "p"
    ],
    "should": [
      "ol",
      "li",
      "p"
    ],
    "ensure": [
      "ol",
      "li",
      "p"
    ],
    "called": [
      "ol",
      "li",
      "p"
    ],
    "from": [
      "ol",
      "li",
      "p",
      "p",
      "ul",
      "li"
    ],
    "few": [
      "ol",
      "li",
      "p"
    ],
    "locations": [
      "ol",
      "li",
      "p"
    ],
    "segregate": [
      "ol",
      "li",
      "p"
    ],
    "requires": [
      "ol",
      "li",
      "p"
    ],
    "its": [
      "ol",
      "li",
      "p"
    ],
    "use": [
      "ol",
      "li",
      "p"
    ],
    "isolated": [
      "ol",
      "li",
      "p"
    ],
    "small": [
      "ol",
      "li",
      "p"
    ],
    "problem": [
      "h1"
    ],
    "example": [
      "h1",
      "h1"
    ],
    "following": [
      "p",
      "p"
    ],
    "segment": [
      "p",
      "p"
    ],
    "shows": [
      "p",
      "p"
    ],
    "jni": [
      "p",
      "p",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li",
      "a",
      "ul",
      "li",
      "a",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a"
    ],
    "utilizes": [
      "p",
      "p"
    ],
    "com": [
      "p",
      "p"
    ],
    "object": [
      "p",
      "p"
    ],
    "because": [
      "p",
      "p"
    ],
    "uses": [
      "p",
      "p"
    ],
    "verify": [
      "p",
      "p"
    ],
    "guid's": [
      "p",
      "p"
    ],
    "length": [
      "p",
      "pre",
      "p"
    ],
    "does": [
      "p"
    ],
    "unnecessary": [
      "p"
    ],
    "crossing": [
      "p",
      "p"
    ],
    "invoking": [
      "p"
    ],
    "thereby": [
      "p"
    ],
    "disrupting": [
      "p"
    ],
    "jvm's": [
      "p",
      "p"
    ],
    "optimization": [
      "p",
      "p"
    ],
    "routines": [
      "p",
      "p"
    ],
    "jniexport": [
      "pre",
      "p",
      "pre"
    ],
    "jboolean": [
      "pre",
      "p",
      "pre"
    ],
    "jnicall": [
      "pre",
      "p",
      "pre"
    ],
    "java_identifier_invokeobject": [
      "pre",
      "p",
      "pre"
    ],
    "jnienv": [
      "pre",
      "p",
      "pre"
    ],
    "*": [
      "pre",
      "p",
      "pre"
    ],
    "env": [
      "pre",
      "p",
      "pre"
    ],
    "jobject": [
      "pre",
      "p",
      "pre"
    ],
    "jobj": [
      "pre",
      "p",
      "pre"
    ],
    "jstring": [
      "pre",
      "p",
      "pre"
    ],
    "jguid{": [
      "pre",
      "p",
      "pre"
    ],
    "..": [
      "pre",
      "pre",
      "p",
      "p",
      "pre",
      "pre"
    ],
    "//": [
      "pre",
      "pre",
      "p",
      "p",
      "pre",
      "pre"
    ],
    "crosses": [
      "pre",
      "p",
      "pre"
    ],
    "twice": [
      "pre"
    ],
    "get": [
      "pre",
      "pre",
      "p",
      "pre"
    ],
    "string": [
      "pre",
      "p",
      "pre"
    ],
    "string's": [
      "pre"
    ],
    "char*": [
      "pre",
      "p",
      "pre"
    ],
    "temp_guid": [
      "pre",
      "p",
      "pre"
    ],
    "=": [
      "pre",
      "pre",
      "p",
      "p",
      "pre",
      "pre"
    ],
    "*env)->getstringutfchars(env,": [
      "pre",
      "p",
      "pre"
    ],
    "jguid": [
      "pre",
      "p",
      "pre"
    ],
    "&iscopy;": [
      "pre",
      "p",
      "pre"
    ],
    "int": [
      "pre",
      "p",
      "pre"
    ],
    "guid_size": [
      "pre",
      "p",
      "pre"
    ],
    "int)(*env)->getstringlength(env,": [
      "pre"
    ],
    "jguid;": [
      "pre"
    ],
    "}": [
      "pre",
      "p",
      "pre"
    ],
    "solution": [
      "h1"
    ],
    "c": [
      "p"
    ],
    "no": [
      "p"
    ],
    "therefore": [
      "p"
    ],
    "not": [
      "p",
      "ul",
      "li",
      "a",
      "ul",
      "li",
      "a"
    ],
    "disrupted": [
      "p"
    ],
    "once": [
      "p",
      "pre"
    ],
    "int)strlen(temp_guid);": [
      "p",
      "pre"
    ],
    "additional": [
      "h1"
    ],
    "resources": [
      "h1"
    ],
    "learn": [
      "ul",
      "li"
    ],
    "more": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "about": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "see": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "interface": [
      "ul",
      "li",
      "a"
    ],
    "specification": [
      "ul",
      "li",
      "a"
    ],
    "information": [
      "ul",
      "li"
    ],
    "issues": [
      "ul",
      "li"
    ],
    "introduces": [
      "ul",
      "li"
    ],
    "unsafe": [
      "ul",
      "li",
      "a"
    ],
    "owasp": [
      "ul",
      "li"
    ],
    "unmanaged": [
      "h1",
      "h1"
    ],
    "guidelines": [
      "h1"
    ],
    "utilize": [
      "ul",
      "li",
      "a"
    ],
    "through": [
      "ul",
      "li",
      "a",
      "ul",
      "ul",
      "li",
      "a",
      "li",
      "a"
    ],
    "if": [
      "ul",
      "li",
      "a"
    ],
    "already": [
      "ul",
      "li",
      "a"
    ],
    "supports": [
      "ul",
      "li",
      "a"
    ],
    "it": [
      "ul",
      "li",
      "a"
    ],
    "checklists": [
      "h1"
    ],
    "supported": [
      "ul",
      "li",
      "a"
    ],
    "utilized": [
      "ul",
      "li",
      "a"
    ],
    "all": [
      "ul",
      "li",
      "a"
    ],
    "data": [
      "ul",
      "li",
      "a"
    ],
    "passed": [
      "ul",
      "li",
      "a"
    ],
    "between": [
      "ul",
      "li",
      "a"
    ],
    "validated": [
      "ul",
      "li",
      "a"
    ],
    "libraries": [
      "ul",
      "li",
      "a"
    ],
    "loaded": [
      "ul",
      "li",
      "a"
    ],
    "protected": [
      "ul",
      "li",
      "a"
    ]
  },
  "tags": {
    "h1": [
      "Applies to",
      "What to Do",
      "Why",
      "When",
      "How",
      "Problem Example",
      "Solution Example",
      "Additional Resources",
      "Unmanaged Code Guidelines",
      "Unmanaged Code Checklists"
    ],
    "ul": [
      "Applications written using Servlets or JSP.",
      "Low level: Low-level components are closely tied to the hardware and operating system. Although low-level components are commonly written in native code, Java provides support for the most basic operations such as filesystem access, sockets, etc. High level: High-level components hold the business logic within an application. Their loose coupling with hardware and operating systems allows them to be implemented 100% using Java.",
      "To learn more about JNI, see: Java Native Interface Specification. For more information about the security issues that JNI introduces, see: Unsafe JNI from OWASP.",
      "Do Not Utilize Functionality Through JNI if Java Already Supports It\n      \n        Minimize the Number of Times Language Boundaries are Crossed",
      "Java Supported Functionality Is Not Utilized Through JNI\n        \n          All Data Passed Between Native and Java Code Is Validated\n          \n            Libraries Loaded Through JNI Are Protected"
    ],
    "li": [
      "Applications written using Servlets or JSP.",
      "Understand the functionality. Make sure there is a clear understanding of the required functionality. Label each component as low or high level:\n      \n        \n          Low level: Low-level components are closely tied to the hardware and operating system. Although low-level components are commonly written in native code, Java provides support for the most basic operations such as filesystem access, sockets, etc. High level: High-level components hold the business logic within an application. Their loose coupling with hardware and operating systems allows them to be implemented 100% using Java.",
      "Low level: Low-level components are closely tied to the hardware and operating system. Although low-level components are commonly written in native code, Java provides support for the most basic operations such as filesystem access, sockets, etc.",
      "High level: High-level components hold the business logic within an application. Their loose coupling with hardware and operating systems allows them to be implemented 100% using Java.",
      "Reduce calls into native code. Determine which functionalities should be executed in native code. Ensure that native code is called from as few locations in your application as possible. Segregate functionality that requires native code so that its use is isolated into a small number of components.",
      "To learn more about JNI, see: Java Native Interface Specification.",
      "For more information about the security issues that JNI introduces, see: Unsafe JNI from OWASP.",
      "Do Not Utilize Functionality Through JNI if Java Already Supports It",
      "Minimize the Number of Times Language Boundaries are Crossed",
      "Java Supported Functionality Is Not Utilized Through JNI",
      "All Data Passed Between Native and Java Code Is Validated",
      "Libraries Loaded Through JNI Are Protected"
    ],
    "p": [
      "Optimize your code in sauch a way that native code is executed as infrequently as possible.",
      "Executing native code forces the developer to implement extra security checks and may result in security bugs (such as buffer overflows), which would otherwise be mitigated by the Java Virtual Machine.",
      "Always optimize your code so that native code is executed as infrequently as possible.",
      "To minimize the number of times language boundaries are crossed:",
      "Understand the functionality. Make sure there is a clear understanding of the required functionality. Label each component as low or high level:",
      "Reduce calls into native code. Determine which functionalities should be executed in native code. Ensure that native code is called from as few locations in your application as possible. Segregate functionality that requires native code so that its use is isolated into a small number of components.",
      "The following segment shows JNI code that utilizes a COM object. Because the code uses Java to verify the GUID's length, the application does unnecessary crossing of language boundaries by invoking Java functionality from native code, thereby disrupting the JVM's security optimization routines.",
      "The following segment shows JNI code that utilizes a COM object. Because the code uses C to verify the GUID's length, there is no extra crossing of language boundaries; therefore, the JVM's security optimization routines are not disrupted.",
      "JNIEXPORT jboolean JNICALL Java_Identifier_invokeObject      (JNIEnv * env, jobject jobj, jstring jguid){      ...      // The code crosses the language boundaries once:      // get the string      char* temp_guid = (*env)->GetStringUTFChars(env, jguid, &iscopy);      int guid_size = (int)strlen(temp_guid);      ... }"
    ],
    "ol": [
      "Understand the functionality. Make sure there is a clear understanding of the required functionality. Label each component as low or high level:\n      \n        \n          Low level: Low-level components are closely tied to the hardware and operating system. Although low-level components are commonly written in native code, Java provides support for the most basic operations such as filesystem access, sockets, etc. High level: High-level components hold the business logic within an application. Their loose coupling with hardware and operating systems allows them to be implemented 100% using Java. \n      \n      \n        \n          Reduce calls into native code. Determine which functionalities should be executed in native code. Ensure that native code is called from as few locations in your application as possible. Segregate functionality that requires native code so that its use is isolated into a small number of components."
    ],
    "strong": [
      "Understand the functionality.",
      "Low level:",
      "High level:",
      "Reduce calls into native code."
    ],
    "pre": [
      "JNIEXPORT jboolean JNICALL Java_Identifier_invokeObject      (JNIEnv * env, jobject jobj, jstring jguid){      ...      // The code crosses the language boundaries twice:      // get the string and get the string's length      char* temp_guid = (*env)->GetStringUTFChars(env, jguid, &iscopy);      int guid_size = (int)(*env)->GetStringLength(env, jguid);      ... }",
      "JNIEXPORT jboolean JNICALL Java_Identifier_invokeObject      (JNIEnv * env, jobject jobj, jstring jguid){      ...      // The code crosses the language boundaries once:      // get the string      char* temp_guid = (*env)->GetStringUTFChars(env, jguid, &iscopy);      int guid_size = (int)strlen(temp_guid);      ... }"
    ],
    "br": [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ],
    "a": [
      "Java Native Interface Specification",
      "Unsafe JNI",
      "Do Not Utilize Functionality Through JNI if Java Already Supports It",
      "Minimize the Number of Times Language Boundaries are Crossed",
      "Java Supported Functionality Is Not Utilized Through JNI",
      "All Data Passed Between Native and Java Code Is Validated",
      "Libraries Loaded Through JNI Are Protected"
    ]
  },
  "links": [
    {
      "href": "http://java.sun.com/j2se/1.3/docs/guide/jni/spec/jniTOC.doc.html",
      "text": "Java Native Interface Specification"
    },
    {
      "href": "http://www.owasp.org/index.php/Unsafe_JNI",
      "text": "Unsafe JNI"
    },
    {
      "href": "/article/351b69c8-b40b-4c13-899e-a8399b85a0ea",
      "text": "Do Not Utilize Functionality Through JNI if Java Already Supports It"
    },
    {
      "href": "/article/70b53138-faf7-410a-a966-16f3088fca63",
      "text": "Minimize the Number of Times Language Boundaries are Crossed"
    },
    {
      "href": "/article/5b207f0a-b17d-42e3-813f-8ac255b3e1bb",
      "text": "Java Supported Functionality Is Not Utilized Through JNI"
    },
    {
      "href": "/article/a61487db-d1e1-4304-89b1-44bb8c88b1e3",
      "text": "All Data Passed Between Native and Java Code Is Validated"
    },
    {
      "href": "/article/d775ead4-8413-4736-a40f-92c7e0231e5b",
      "text": "Libraries Loaded Through JNI Are Protected"
    }
  ],
  "html": "<h1>Applies to</h1>\n  <ul>\n    <li>Applications written using Servlets or JSP.</li>\n  </ul>\n  <h1>What to Do</h1>\n  <p>Optimize your code in sauch a way&nbsp;that native code is executed as&nbsp;infrequently as possible.</p>\n  <h1>Why</h1>\n  <p>Executing native code forces the developer to implement extra security checks and may result in security bugs (such as buffer overflows), which would otherwise be mitigated by the Java Virtual Machine.</p>\n  <h1>When</h1>\n  <p>Always optimize your code so that native code is executed as&nbsp;infrequently as possible.</p>\n  <h1>How</h1>\n  <p>To minimize the number of times language boundaries are crossed:</p>\n  <ol>\n    <li>\n      <p>\n        <strong>Understand the functionality. </strong>Make sure there is a clear understanding of the required functionality. Label each component as low or high level:</p>\n      <ul>\n        <li>\n          <strong>Low level:</strong> Low-level components are closely tied to the hardware and operating system. Although low-level components are commonly written in native code, Java provides support for the most basic operations such as filesystem access, sockets, etc. <li><strong>High level:</strong> High-level components hold the business logic within an application. Their loose coupling with hardware and operating systems allows them to be implemented 100&#37; using Java. </li></li>\n      </ul>\n      <li>\n        <p>\n          <strong>Reduce calls into native code. </strong>Determine which functionalities should be executed in native code. Ensure that native code is called from as few locations in your application as possible. Segregate functionality that requires native code so that its use is isolated into a small number of components.</p>\n      </li>\n    </li>\n  </ol>\n  <h1>Problem Example</h1>\n  <p>The following segment shows JNI code that utilizes a COM object. Because the code uses Java to verify the GUID's length, the application does unnecessary crossing of language boundaries by invoking Java functionality from native code, thereby disrupting the JVM's security optimization routines. </p>\n  <pre>JNIEXPORT jboolean JNICALL Java_Identifier_invokeObject<br />      (JNIEnv &#42; env, jobject jobj, jstring jguid)&#123;<br /><br />      ...<br /><br /><br />      // The code crosses the language boundaries twice:<br />      // get the string and get the string's length<br />      char&#42; temp_guid = (&#42;env)-&gt;GetStringUTFChars(env, jguid, &iscopy);<br />      int guid_size = (int)(&#42;env)-&gt;GetStringLength(env, jguid);<br /><br />      ...<br /> &#125;</pre>\n  <h1>Solution Example</h1>\n  <p>The following segment shows JNI code that utilizes a COM object. Because the code uses C to verify the GUID's length, there is no extra crossing of language boundaries; therefore, the JVM's security optimization routines are not disrupted. </p>\n  <p />\n  <pre>JNIEXPORT jboolean JNICALL Java_Identifier_invokeObject<br />      (JNIEnv &#42; env, jobject jobj, jstring jguid)&#123;<br /><br />      ...<br /><br /><br />      // The code crosses the language boundaries once:<br />      // get the string<br />      char&#42; temp_guid = (&#42;env)-&gt;GetStringUTFChars(env, jguid, &iscopy);<br />      int guid_size = (int)strlen(temp_guid);<br /><br />      ...<br /> &#125;</pre>\n  <h1>Additional Resources</h1>\n  <ul>\n    <li>To learn more about JNI, see: <a href=\"http://java.sun.com/j2se/1.3/docs/guide/jni/spec/jniTOC.doc.html\">Java Native Interface Specification</a>. <li>For more information about the security issues that JNI introduces, see: <a href=\"http://www.owasp.org/index.php/Unsafe_JNI\">Unsafe JNI</a> from OWASP. </li></li>\n  </ul>\n  <h1>Unmanaged Code Guidelines</h1>\n  <ul>\n    <li>\n      <a href=\"/article/351b69c8-b40b-4c13-899e-a8399b85a0ea\">Do Not Utilize Functionality Through JNI if Java Already Supports It</a>\n      <li>\n        <a href=\"/article/70b53138-faf7-410a-a966-16f3088fca63\">Minimize the Number of Times Language Boundaries are Crossed</a>\n      </li>\n    </li>\n  </ul>\n  <h1>Unmanaged Code Checklists</h1>\n  <ul>\n    <li>\n      <a href=\"/article/5b207f0a-b17d-42e3-813f-8ac255b3e1bb\">Java Supported Functionality Is Not Utilized Through JNI</a>\n        <li>\n          <a href=\"/article/a61487db-d1e1-4304-89b1-44bb8c88b1e3\">All Data Passed Between Native and Java Code Is Validated</a>\n          <li>\n            <a href=\"/article/d775ead4-8413-4736-a40f-92c7e0231e5b\">Libraries Loaded Through JNI Are Protected</a>\n          </li>\n        </li>\n    </li>\n  </ul>"
}