{
  "id": "abbeedc4-e1bb-4fc8-bb61-c1ca98d04621",
  "checksum": "e1f7ef448ad369c7910e3d063234d5cc0f88f4c8",
  "words": {
    "35": [
      "ul",
      "li",
      "ul",
      "li"
    ],
    "2008": [
      "ul",
      "li"
    ],
    "applies": [
      "h1"
    ],
    "to": [
      "h1",
      "p",
      "p",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "title",
      "title"
    ],
    "microsoft®": [
      "ul",
      "li"
    ],
    "windows": [
      "ul",
      "li",
      "p",
      "li",
      "li",
      "li"
    ],
    "communication": [
      "ul",
      "li"
    ],
    "foundation": [
      "ul",
      "li"
    ],
    "wcf)": [
      "ul",
      "li"
    ],
    "microsoft": [
      "ul",
      "li",
      "p"
    ],
    "visual": [
      "ul",
      "li"
    ],
    "studio®": [
      "ul",
      "li"
    ],
    "description": [
      "h1"
    ],
    "if": [
      "p"
    ],
    "you": [
      "p",
      "p",
      "ol",
      "li",
      "ol",
      "li"
    ],
    "are": [
      "p"
    ],
    "using": [
      "p",
      "ol",
      "li",
      "ol",
      "li",
      "li"
    ],
    "certificates": [
      "p",
      "li",
      "li",
      "title"
    ],
    "authentication": [
      "p",
      "li",
      "li",
      "ol",
      "pre"
    ],
    "can": [
      "p"
    ],
    "map": [
      "p",
      "li",
      "li",
      "title"
    ],
    "the": [
      "p",
      "p",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "li",
      "ul",
      "li"
    ],
    "certificate": [
      "p",
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "li",
      "li",
      "li",
      "li"
    ],
    "a": [
      "p",
      "p",
      "li",
      "li",
      "li",
      "li",
      "li",
      "ol",
      "ol",
      "pre",
      "pre"
    ],
    "account": [
      "p",
      "p",
      "li"
    ],
    "and": [
      "p",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "ol",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li"
    ],
    "authorize": [
      "p",
      "li"
    ],
    "based": [
      "p"
    ],
    "on": [
      "p",
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "ol",
      "li",
      "li",
      "ul",
      "li"
    ],
    "this": [
      "p",
      "li"
    ],
    "use": [
      "p"
    ],
    "following": [
      "p"
    ],
    "steps": [
      "p"
    ],
    "associate": [
      "p"
    ],
    "roles": [
      "p",
      "title"
    ],
    "with": [
      "p"
    ],
    "configure": [
      "ol",
      "li",
      "li",
      "li",
      "li"
    ],
    "iis": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "li",
      "li"
    ],
    "enable": [
      "ol",
      "li"
    ],
    "client": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "li",
      "li",
      "li"
    ],
    "mappingopen": [
      "ol",
      "li"
    ],
    "service": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "ol",
      "li",
      "li",
      "li",
      "li",
      "li"
    ],
    "appletright-click": [
      "ol",
      "li",
      "ol"
    ],
    "web": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "site": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "will": [
      "ol",
      "li",
      "ol",
      "li",
      "li",
      "li",
      "li"
    ],
    "be": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "for": [
      "ol",
      "li",
      "ol",
      "li",
      "ul",
      "li",
      "li"
    ],
    "your": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "ol",
      "li",
      "li"
    ],
    "select": [
      "ol",
      "li",
      "ol",
      "li",
      "li"
    ],
    "propertiesselect": [
      "ol",
      "li",
      "ol"
    ],
    "directory": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "security": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "tab": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "click": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "ol",
      "li",
      "li"
    ],
    "edit": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "ol",
      "li",
      "li"
    ],
    "button": [
      "ol",
      "ol",
      "li",
      "li",
      "ol",
      "ol",
      "li",
      "li"
    ],
    "within": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "secure": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "communications": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "sectioncheck": [
      "ol",
      "li",
      "ol"
    ],
    "“enable": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "mapping”": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "checkbox": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "mapping": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "fill": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "in": [
      "ol",
      "li",
      "ol",
      "li",
      "li",
      "li"
    ],
    "1-1": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "or": [
      "ol",
      "li",
      "ol",
      "li",
      "li"
    ],
    "many-to-1": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "depending": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "configuration": [
      "ol",
      "li",
      "ol",
      "li"
    ],
    "open": [
      "ol",
      "li"
    ],
    "applet": [
      "li"
    ],
    "right-click": [
      "li"
    ],
    "properties": [
      "li"
    ],
    "section": [
      "li",
      "ul",
      "li"
    ],
    "check": [
      "li"
    ],
    "require": [
      "li",
      "li"
    ],
    "clientcredentialtype": [
      "li"
    ],
    "=": [
      "li",
      "li",
      "ol",
      "pre"
    ],
    "“certificate”": [
      "li"
    ],
    "clients": [
      "li",
      "li"
    ],
    "connect": [
      "li"
    ],
    "message": [
      "li",
      "ol",
      "pre",
      "li",
      "ol",
      "pre"
    ],
    "clientcredentialtype=\"certificate\"": [
      "li",
      "ol",
      "pre",
      "li",
      "ol",
      "pre"
    ],
    "/": [
      "li",
      "ol",
      "pre",
      "li",
      "ol",
      "pre",
      "li",
      "ol",
      "pre"
    ],
    "user": [
      "li",
      "li",
      "li"
    ],
    "accounts": [
      "li"
    ],
    "webconfig": [
      "li"
    ],
    "appconfig": [
      "li"
    ],
    "file": [
      "li"
    ],
    "set": [
      "li"
    ],
    "mapclientcertificatetowindowsaccount": [
      "li"
    ],
    "“true”<servicebehaviors>": [
      "li"
    ],
    "behavior": [
      "li",
      "ol",
      "pre"
    ],
    "name=\"mappingbehavior\"": [
      "li",
      "ol",
      "pre"
    ],
    "servicecredentials>": [
      "li",
      "ol",
      "pre"
    ],
    "clientcertificate>": [
      "li",
      "ol",
      "pre"
    ],
    "certificatevalidationmode=\"none\"": [
      "li",
      "ol",
      "pre"
    ],
    "mapclientcertificatetowindowsaccount=\"true\"": [
      "li",
      "ol",
      "pre"
    ],
    "/clientcertificate>": [
      "li",
      "ol",
      "pre"
    ],
    "/servicecredentials>": [
      "li",
      "ol",
      "pre"
    ],
    "/behavior></servicebehaviors>": [
      "li",
      "ol",
      "pre"
    ],
    "servicebehaviors>": [
      "ol",
      "pre"
    ],
    "supply": [
      "li"
    ],
    "incoming": [
      "li"
    ],
    "requests": [
      "li"
    ],
    "contain": [
      "li"
    ],
    "name": [
      "li"
    ],
    "thumbprint": [
      "li"
    ],
    "id": [
      "li"
    ],
    "group": [
      "li",
      "li"
    ],
    "required": [
      "li",
      "li"
    ],
    "by": [
      "li"
    ],
    "adding": [
      "li"
    ],
    "principalpermission": [
      "li"
    ],
    "attribute": [
      "li"
    ],
    "above": [
      "li"
    ],
    "each": [
      "li"
    ],
    "method": [
      "li",
      "li"
    ],
    "that": [
      "li"
    ],
    "requires": [
      "li"
    ],
    "authorization": [
      "li",
      "ul",
      "ul",
      "ul",
      "li",
      "li",
      "li"
    ],
    "specify": [
      "li"
    ],
    "access": [
      "li"
    ],
    "role": [
      "li",
      "li",
      "ol",
      "pre"
    ],
    "field[principalpermission(securityaction.demand,": [
      "li"
    ],
    "\"accounting\"]public": [
      "li",
      "ol",
      "pre"
    ],
    "double": [
      "li",
      "li",
      "ol",
      "ol",
      "pre",
      "pre"
    ],
    "adddouble": [
      "li",
      "ol",
      "pre"
    ],
    "b{": [
      "li",
      "ol",
      "pre"
    ],
    "return": [
      "li",
      "ol",
      "pre"
    ],
    "+": [
      "li",
      "ol",
      "pre"
    ],
    "b}": [
      "li",
      "ol",
      "pre"
    ],
    "principalpermission(securityaction.demand,": [
      "ol",
      "pre"
    ],
    "additional": [
      "h1"
    ],
    "resources": [
      "h1"
    ],
    "more": [
      "ul",
      "li"
    ],
    "information": [
      "ul",
      "li"
    ],
    "see": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "“authorization”": [
      "ul",
      "li"
    ],
    "at": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms733071.aspxfor": [
      "ul"
    ],
    "guidelines": [
      "ul",
      "ul",
      "li",
      "li"
    ],
    "of": [
      "ul",
      "li"
    ],
    "“wcf": [
      "ul",
      "li"
    ],
    "“": [
      "ul",
      "li"
    ],
    "http//www.codeplex.com/wcfsecurityguide/wiki/view.aspx?title=wcf%20security%20guidelines&referringtitle=home": [
      "ul",
      "li",
      "a"
    ],
    "http//msdn2.microsoft.com/en-us/library/ms733071.aspx": [
      "li",
      "a"
    ],
    "adapted": [
      "p"
    ],
    "from": [
      "p"
    ],
    "patterns": [
      "p"
    ],
    "&": [
      "p"
    ],
    "practices": [
      "p"
    ],
    "guidance": [
      "p"
    ],
    "how": [
      "title"
    ]
  },
  "tags": {
    "h1": [
      "Applies to",
      "Description",
      "Additional Resources"
    ],
    "ul": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5 Microsoft Visual Studio® 2008",
      "For more information on authorization, see “Authorization” at http://msdn2.microsoft.com/en-us/library/ms733071.aspxFor authorization Guidelines, see the Authorization section of “WCF 3.5 Guidelines “ at http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "li": [
      "Microsoft® Windows Communication Foundation (WCF) 3.5",
      "Microsoft Visual Studio® 2008",
      "Configure IIS to enable client certificate mapping.Open the IIS service appletRight-click on the web site you will be using for your service and select PropertiesSelect the Directory Security tab and click Edit button within the Secure Communications section.Check the “Enable Client Certificate Mapping” checkbox. Click the mapping edit button and fill in 1-1 or Many-to-1 depending on your configuration.",
      "Open the IIS service applet",
      "Right-click on the web site you will be using for your service and select Properties",
      "Select the Directory Security tab and click Edit button within the Secure Communications section.",
      "Check the “Enable Client Certificate Mapping” checkbox. Click the mapping edit button and fill in 1-1 or Many-to-1 depending on your configuration.",
      "Configure the service to require ClientCredentialType = “Certificate”. This will require clients to connect using Certificate authentication.      <message clientCredentialType=\"Certificate\" />",
      "Configure the service to map certificates to user accounts in the web.config or app.config file. Set the mapClientCertificateToWindowsAccount to “true”.<serviceBehaviors> <behavior name=\"MappingBehavior\">  <serviceCredentials>   <clientCertificate>    <authentication certificateValidationMode=\"None\" mapClientCertificateToWindowsAccount=\"true\" />   </clientCertificate>  </serviceCredentials> </behavior></serviceBehaviors>",
      "Configure clients to supply a certificate. The incoming client requests will contain a certificate name and thumbprint ID. IIS will map the client certificates to a Windows user account.      <message clientCredentialType=\"Certificate\" />",
      "Authorize the windows group required by adding the PrincipalPermission attribute above each service method that requires authorization. Specify the Windows user group required to access the method in the Role field.[PrincipalPermission(SecurityAction.Demand, Role = \"accounting\")]public double Add(double a, double b){    return a + b;}",
      "For more information on authorization, see “Authorization” at http://msdn2.microsoft.com/en-us/library/ms733071.aspx",
      "For authorization Guidelines, see the Authorization section of “WCF 3.5 Guidelines “ at http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "p": [
      "If you are using Certificates authentication you can map the certificate to a windows account and authorize based on this account.",
      "Use the following steps to associate roles with a certificate:",
      "Adapted from Microsoft patterns & practices guidance."
    ],
    "ol": [
      "Configure IIS to enable client certificate mapping.Open the IIS service appletRight-click on the web site you will be using for your service and select PropertiesSelect the Directory Security tab and click Edit button within the Secure Communications section.Check the “Enable Client Certificate Mapping” checkbox. Click the mapping edit button and fill in 1-1 or Many-to-1 depending on your configuration.",
      "Open the IIS service appletRight-click on the web site you will be using for your service and select PropertiesSelect the Directory Security tab and click Edit button within the Secure Communications section.Check the “Enable Client Certificate Mapping” checkbox. Click the mapping edit button and fill in 1-1 or Many-to-1 depending on your configuration.",
      "<message clientCredentialType=\"Certificate\" />",
      "<serviceBehaviors> <behavior name=\"MappingBehavior\">  <serviceCredentials>   <clientCertificate>    <authentication certificateValidationMode=\"None\" mapClientCertificateToWindowsAccount=\"true\" />   </clientCertificate>  </serviceCredentials> </behavior></serviceBehaviors>",
      "<message clientCredentialType=\"Certificate\" />",
      "[PrincipalPermission(SecurityAction.Demand, Role = \"accounting\")]public double Add(double a, double b){    return a + b;}"
    ],
    "pre": [
      "<message clientCredentialType=\"Certificate\" />",
      "<serviceBehaviors> <behavior name=\"MappingBehavior\">  <serviceCredentials>   <clientCertificate>    <authentication certificateValidationMode=\"None\" mapClientCertificateToWindowsAccount=\"true\" />   </clientCertificate>  </serviceCredentials> </behavior></serviceBehaviors>",
      "<message clientCredentialType=\"Certificate\" />",
      "[PrincipalPermission(SecurityAction.Demand, Role = \"accounting\")]public double Add(double a, double b){    return a + b;}"
    ],
    "br": [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ],
    "a": [
      "http://msdn2.microsoft.com/en-us/library/ms733071.aspx",
      "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    ],
    "hr": [
      ""
    ]
  },
  "links": [
    {
      "href": "http://msdn2.microsoft.com/en-us/library/ms733071.aspx",
      "text": "http://msdn2.microsoft.com/en-us/library/ms733071.aspx"
    },
    {
      "href": "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home",
      "text": "http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF%20Security%20Guidelines&referringTitle=Home"
    }
  ],
  "html": "<h1>Applies to</h1>\r\n  <ul>\r\n    <li>Microsoft&#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&#174; 2008</li></li>\r\n  </ul>\r\n  <h1>Description</h1>\r\n  <p>If you are using Certificates authentication you can map the certificate to a windows account and authorize based on this account.</p>\r\n  <p>Use the following steps to associate roles with a certificate:</p>\r\n  <ol>\r\n    <li>Configure IIS to enable client certificate mapping.<ol><li>Open the IIS service applet<li>Right-click on the web site you will be using for your service and select Properties<li>Select the Directory Security tab and click Edit button within the Secure Communications section.<li>Check the &#8220;Enable Client Certificate Mapping&#8221; checkbox. Click the mapping edit button and fill in 1-1 or Many-to-1 depending on your configuration.</li></li></li></li></ol><li>Configure the service to require ClientCredentialType = &#8220;Certificate&#8221;. This will require clients to connect using Certificate authentication.<ol><pre>      &lt;message clientCredentialType=\"Certificate\" /&gt;</pre></ol><li>Configure the service to map certificates to user accounts in the web.config or app.config file. Set the mapClientCertificateToWindowsAccount to &#8220;true&#8221;.<ol><pre>&lt;serviceBehaviors&gt;<br /> &lt;behavior name=\"MappingBehavior\"&gt;<br />  &lt;serviceCredentials&gt;<br />   &lt;clientCertificate&gt;<br />    &lt;authentication certificateValidationMode=\"None\" mapClientCertificateToWindowsAccount=\"true\" /&gt;<br />   &lt;/clientCertificate&gt;<br />  &lt;/serviceCredentials&gt;<br /> &lt;/behavior&gt;<br />&lt;/serviceBehaviors&gt;</pre></ol><li>Configure clients to supply a certificate. The incoming client requests will contain a certificate name and thumbprint ID. IIS will map the client certificates to a Windows user account.<ol><pre>      &lt;message clientCredentialType=\"Certificate\" /&gt;</pre></ol><li>Authorize the windows group required by adding the PrincipalPermission attribute above each service method that requires authorization. Specify the Windows user group required to access the method in the Role field.<ol><pre>&#91;PrincipalPermission(SecurityAction.Demand, Role = \"accounting\")&#93;<br />public double Add(double a, double b)<br />&#123;<br />    return a &#43; b;<br />&#125;<br /></pre></ol></li></li></li></li></li>\r\n  </ol>\r\n  <h1>Additional Resources</h1>\r\n  <ul>\r\n    <li>For more information on authorization, see &#8220;Authorization&#8221; at <a href=\"http://msdn2.microsoft.com/en-us/library/ms733071.aspx\">http://msdn2.microsoft.com/en-us/library/ms733071.aspx</a><li>For authorization Guidelines, see the Authorization section of &#8220;WCF 3.5 Guidelines &#8220; at <a href=\"http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF&#37;20Security&#37;20Guidelines&referringTitle=Home\">http://www.codeplex.com/WCFSecurityGuide/Wiki/View.aspx?title=WCF&#37;20Security&#37;20Guidelines&referringTitle=Home</a><br /></li></li>\r\n  </ul>\r\n  <hr />\r\n  <p>Adapted from Microsoft patterns & practices guidance.</p>"
}